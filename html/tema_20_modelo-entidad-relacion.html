<!DOCTYPE html>
<html lang="es" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 20: Modelo Entidad/Relaci√≥n - Preparatic</title>
    <style>
        :root[data-theme="light"] {
            --primary: #3498db;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --success: #27ae60;
            --warning: #f39c12;
            --info: #17a2b8;
            --bg-primary: #ecf0f1;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f8f9fa;
            --text-primary: #2c3e50;
            --text-secondary: #34495e;
            --text-muted: #6c757d;
            --border: #dee2e6;
            --shadow: rgba(0,0,0,0.1);
            --card-bg: #ffffff;
            --code-bg: #f8f9fa;
        }

        :root[data-theme="dark"] {
            --primary: #3498db;
            --secondary: #34495e;
            --accent: #e74c3c;
            --success: #27ae60;
            --warning: #f39c12;
            --info: #17a2b8;
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d3748;
            --bg-tertiary: #374151;
            --text-primary: #f7fafc;
            --text-secondary: #e2e8f0;
            --text-muted: #a0aec0;
            --border: #4a5568;
            --shadow: rgba(0,0,0,0.3);
            --card-bg: #2d3748;
            --code-bg: #1a202c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .header {
            background: var(--card-bg);
            padding: 2rem 0;
            box-shadow: 0 2px 10px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
        }

        .logo-text h1 {
            font-size: 1.8rem;
            color: var(--text-primary);
            margin-bottom: 0.2rem;
        }

        .logo-text p {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .theme-toggle {
            background: var(--bg-tertiary);
            border: 2px solid var(--border);
            border-radius: 25px;
            padding: 0.5rem 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            color: var(--text-primary);
        }

        .theme-toggle:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .main-content {
            margin: 2rem auto;
            max-width: 1200px;
            padding: 0 2rem;
        }

        .tabs-container {
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px var(--shadow);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .tabs-nav {
            display: flex;
            background: var(--bg-tertiary);
            overflow-x: auto;
            scrollbar-width: none;
        }

        .tabs-nav::-webkit-scrollbar {
            display: none;
        }

        .tab-button {
            flex: 1;
            padding: 1.2rem 1.5rem;
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            white-space: nowrap;
            position: relative;
            min-width: 120px;
        }

        .tab-button:hover {
            color: var(--primary);
            background: var(--bg-secondary);
        }

        .tab-button.active {
            color: var(--primary);
            background: var(--card-bg);
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .tab-content {
            display: none;
            padding: 2rem;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
        }

        .card {
            background: var(--bg-tertiary);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 5px 15px var(--shadow);
            transition: transform 0.3s ease;
            border-left: 4px solid var(--primary);
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .grid {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }

        .highlight {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            margin: 1.5rem 0;
        }

        .highlight h3 {
            color: white;
            margin-bottom: 1rem;
        }

        .er-diagram {
            background: var(--card-bg);
            border: 2px dashed var(--border);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }

        .er-diagram:hover {
            border-color: var(--primary);
            transform: scale(1.02);
        }

        .er-symbols {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .symbol-card {
            background: var(--bg-tertiary);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            border: 2px solid var(--border);
            transition: all 0.3s ease;
        }

        .symbol-card:hover {
            border-color: var(--primary);
            transform: translateY(-5px);
        }

        .symbol-visual {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px var(--shadow);
        }

        .comparison-table th {
            background: var(--primary);
            color: white;
            padding: 1rem;
            text-align: left;
        }

        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--border);
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table tr:nth-child(even) {
            background: var(--bg-tertiary);
        }

        .normalization-steps {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .norm-step {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--bg-tertiary);
            border-radius: 15px;
            border-left: 5px solid var(--primary);
            transition: all 0.3s ease;
        }

        .norm-step:hover {
            background: var(--primary);
            color: white;
            transform: translateX(10px);
        }

        .norm-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }

        .best-practices {
            background: linear-gradient(135deg, var(--success), #229954);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
        }

        .best-practices h3 {
            color: white;
            margin-bottom: 1rem;
        }

        .practices-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .practice-item {
            background: rgba(255,255,255,0.1);
            padding: 1rem;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .code-example {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .code-example pre {
            margin: 0;
            color: var(--text-primary);
        }

        .metrics-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .metric-card {
            background: var(--bg-tertiary);
            padding: 2rem 1.5rem;
            border-radius: 15px;
            text-align: center;
            border-top: 4px solid var(--primary);
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .metric-label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .cardinality-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .cardinality-card {
            background: var(--bg-tertiary);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            border: 3px solid var(--border);
            transition: all 0.3s ease;
        }

        .cardinality-card:hover {
            border-color: var(--primary);
            transform: scale(1.05);
        }

        .cardinality-symbol {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }

        .transformation-flow {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            margin: 2rem 0;
        }

        .transform-step {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            padding: 1.5rem;
            background: var(--bg-tertiary);
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .transform-step:hover {
            background: var(--primary);
            color: white;
            transform: translateX(10px);
        }

        .transform-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            flex-shrink: 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .tabs-nav {
                flex-direction: column;
            }
            
            .tab-button {
                min-width: auto;
            }
            
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            
            .transform-step {
                flex-direction: column;
                text-align: center;
            }
            
            .norm-step {
                flex-direction: column;
                text-align: center;
            }
        }

        .footer {
            margin-top: 4rem;
            padding: 2rem;
            text-align: center;
            background: var(--card-bg);
            border-radius: 15px;
            color: var(--text-muted);
        }

        .exercise-box {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid var(--primary);
        }

        .exercise-box .solution {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--primary);
        }

        .exercise-box .solution h4 {
            color: var(--primary);
            margin-bottom: 10px;
        }

        .exercise-box .solution p {
            margin-bottom: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">20</div>
                    <div class="logo-text">
                        <h1>Modelo Entidad/Relaci√≥n</h1>
                        <p>Dise√±o conceptual de bases de datos</p>
                    </div>
                </div>
                <button class="theme-toggle" onclick="toggleTheme()">
                    <span id="theme-icon">üåô</span>
                    <span id="theme-text">Modo Oscuro</span>
                </button>
            </div>
        </div>
    </header>

    <div class="main-content">
        <div class="tabs-container">
            <nav class="tabs-nav">
                <button class="tab-button active" onclick="showTab('overview')">Resumen</button>
                <button class="tab-button" onclick="showTab('fundamentals')">Fundamentos</button>
                <button class="tab-button" onclick="showTab('components')">Componentes</button>
                <button class="tab-button" onclick="showTab('design')">Dise√±o</button>
                <button class="tab-button" onclick="showTab('transformation')">Transformaci√≥n</button>
                <button class="tab-button" onclick="showTab('case-study')">Caso Pr√°ctico</button>
                <button class="tab-button" onclick="showTab('exercises')">Ejercicios</button>
            </nav>

            <div id="overview" class="tab-content active">
                <div class="section-title">
                    <div class="section-icon">üó∫Ô∏è</div>
                    <span>Resumen del Modelo Entidad/Relaci√≥n</span>
                </div>

                <div class="highlight">
                    <h3>¬øQu√© es el Modelo Entidad/Relaci√≥n (E-R)?</h3>
                    <p>El Modelo Entidad/Relaci√≥n es una herramienta de modelado conceptual utilizada para representar la estructura de datos de un sistema de informaci√≥n de manera gr√°fica y conceptual. Fue propuesto por Peter Chen en 1976 y se ha convertido en el est√°ndar de facto para el dise√±o de bases de datos.</p>
                </div>

                <div class="metrics-dashboard">
                    <div class="metric-card">
                        <div class="metric-value">1976</div>
                        <div class="metric-label">A√±o de creaci√≥n</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">3</div>
                        <div class="metric-label">Componentes b√°sicos</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">80%</div>
                        <div class="metric-label">Proyectos que lo usan</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">ISO</div>
                        <div class="metric-label">Est√°ndar internacional</div>
                    </div>
                </div>

                <div class="grid grid-2">
                    <div class="card">
                        <h3>üéØ Objetivos Principales</h3>
                        <ul>
                            <li><strong>Representaci√≥n conceptual:</strong> Modelar datos independiente de la implementaci√≥n</li>
                            <li><strong>Comunicaci√≥n efectiva:</strong> Lenguaje com√∫n entre analistas y usuarios</li>
                            <li><strong>Base para implementaci√≥n:</strong> Fundamento para dise√±o f√≠sico de BD</li>
                            <li><strong>Documentaci√≥n completa:</strong> Registro formal de la estructura de datos</li>
                            <li><strong>An√°lisis de requerimientos:</strong> Identificaci√≥n de entidades y relaciones</li>
                            <li><strong>Validaci√≥n:</strong> Verificaci√≥n de completitud y consistencia</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>‚ö° Ventajas del Modelo E-R</h3>
                        <ul>
                            <li>Representaci√≥n visual intuitiva</li>
                            <li>Independiente de la implementaci√≥n</li>
                            <li>Facilita la comunicaci√≥n con usuarios</li>
                            <li>Base s√≥lida para normalizaci√≥n</li>
                            <li>Est√°ndar ampliamente aceptado</li>
                            <li>Herramientas CASE disponibles</li>
                        </ul>
                    </div>
                </div>

                <div class="er-symbols">
                    <div class="symbol-card">
                        <div class="symbol-visual">‚ñ°</div>
                        <h4>Entidad</h4>
                        <p>Objeto o concepto del mundo real</p>
                    </div>
                    <div class="symbol-card">
                        <div class="symbol-visual">‚óá</div>
                        <h4>Relaci√≥n</h4>
                        <p>Asociaci√≥n entre entidades</p>
                    </div>
                    <div class="symbol-card">
                        <div class="symbol-visual">‚óã</div>
                        <h4>Atributo</h4>
                        <p>Propiedad de entidad o relaci√≥n</p>
                    </div>
                    <div class="symbol-card">
                        <div class="symbol-visual">‚ö´</div>
                        <h4>Atributo Clave</h4>
                        <p>Identificador √∫nico de entidad</p>
                    </div>
                    <div class="symbol-card">
                        <div class="symbol-visual">‚¨ö</div>
                        <h4>Entidad D√©bil</h4>
                        <p>Depende de otra entidad</p>
                    </div>
                    <div class="symbol-card">
                        <div class="symbol-visual">‚óà</div>
                        <h4>Relaci√≥n D√©bil</h4>
                        <p>Conecta entidad d√©bil con fuerte</p>
                    </div>
                </div>

                <div class="card">
                    <h3>üìä Niveles de Modelado</h3>
                    
                    <div class="normalization-steps">
                        <div class="norm-step">
                            <div class="norm-number">1</div>
                            <div>
                                <h4>Modelo Conceptual</h4>
                                <p><strong>Diagrama E-R:</strong> Representaci√≥n de alto nivel independiente de la implementaci√≥n. Se centra en las entidades principales y sus relaciones sin considerar detalles t√©cnicos.</p>
                            </div>
                        </div>
                        <div class="norm-step">
                            <div class="norm-number">2</div>
                            <div>
                                <h4>Modelo L√≥gico</h4>
                                <p><strong>Esquema relacional:</strong> Transformaci√≥n del modelo E-R a tablas con claves primarias y for√°neas. Incluye normalizaci√≥n y optimizaci√≥n de la estructura.</p>
                            </div>
                        </div>
                        <div class="norm-step">
                            <div class="norm-number">3</div>
                            <div>
                                <h4>Modelo F√≠sico</h4>
                                <p><strong>Implementaci√≥n SGBD:</strong> Definici√≥n espec√≠fica para un sistema gestor particular, incluyendo √≠ndices, particiones y optimizaciones de rendimiento.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspecto</th>
                                <th>Modelo E-R</th>
                                <th>Modelo Relacional</th>
                                <th>Modelo de Objetos</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Enfoque</strong></td>
                                <td>Conceptual, sem√°ntico</td>
                                <td>L√≥gico, matem√°tico</td>
                                <td>Orientado a objetos</td>
                            </tr>
                            <tr>
                                <td><strong>Representaci√≥n</strong></td>
                                <td>Diagramas gr√°ficos</td>
                                <td>Tablas y esquemas</td>
                                <td>Clases y objetos</td>
                            </tr>
                            <tr>
                                <td><strong>Abstracci√≥n</strong></td>
                                <td>Alta (conceptual)</td>
                                <td>Media (l√≥gica)</td>
                                <td>Alta (sem√°ntica)</td>
                            </tr>
                            <tr>
                                <td><strong>Implementaci√≥n</strong></td>
                                <td>Independiente</td>
                                <td>SGBD relacionales</td>
                                <td>SGBD orientados a objetos</td>
                            </tr>
                            <tr>
                                <td><strong>Complejidad</strong></td>
                                <td>Media</td>
                                <td>Baja-Media</td>
                                <td>Alta</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>üîÑ Historia y Evoluci√≥n</h3>
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Hitos Hist√≥ricos</h4>
                            <ul>
                                <li><strong>1976 - Peter Chen:</strong> Propone el modelo E-R original</li>
                                <li><strong>1980s - Extensiones:</strong> Modelo E-R Extendido (EER)</li>
                                <li><strong>1990s - Herramientas CASE:</strong> Automatizaci√≥n del dise√±o</li>
                                <li><strong>2000s - UML:</strong> Diagramas de clases como alternativa</li>
                                <li><strong>Actualidad:</strong> Adaptaci√≥n a bases de datos NoSQL</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--primary);">Variantes y Extensiones</h4>
                            <ul>
                                <li><strong>EER (Extended E-R):</strong> Herencia y especializaci√≥n</li>
                                <li><strong>E-R sem√°ntico:</strong> M√°s expresividad sem√°ntica</li>
                                <li><strong>E-R temporal:</strong> Dimensi√≥n temporal en datos</li>
                                <li><strong>E-R difuso:</strong> Manejo de incertidumbre</li>
                                <li><strong>E-R orientado a objetos:</strong> Conceptos OO integrados</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="best-practices">
                    <h3>üéØ Aplicaciones del Modelo E-R</h3>
                    <div class="practices-grid">
                        <div class="practice-item">
                            <strong>Sistemas de Informaci√≥n</strong>
                            <p>ERP, CRM, sistemas acad√©micos, hospitalarios</p>
                        </div>
                        <div class="practice-item">
                            <strong>Comercio Electr√≥nico</strong>
                            <p>Cat√°logos, inventarios, gesti√≥n de pedidos</p>
                        </div>
                        <div class="practice-item">
                            <strong>Sistemas Financieros</strong>
                            <p>Bancos, seguros, contabilidad, auditor√≠a</p>
                        </div>
                        <div class="practice-item">
                            <strong>Manufactura</strong>
                            <p>Control de producci√≥n, calidad, log√≠stica</p>
                        </div>
                        <div class="practice-item">
                            <strong>Telecomunicaciones</strong>
                            <p>Gesti√≥n de redes, clientes, facturaci√≥n</p>
                        </div>
                        <div class="practice-item">
                            <strong>Gobierno Digital</strong>
                            <p>Registros civiles, tributos, servicios p√∫blicos</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="fundamentals" class="tab-content">
                <div class="section-title">
                    <div class="section-icon">üèóÔ∏è</div>
                    <span>Fundamentos Te√≥ricos</span>
                </div>

                <div class="card">
                    <h3>üîç Conceptos B√°sicos</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Entidad</h4>
                            <p>Objeto, persona, lugar, concepto o evento del mundo real que tiene existencia independiente y puede ser identificado de manera √∫nica.</p>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Caracter√≠sticas:</h4>
                            <ul>
                                <li>Existencia independiente</li>
                                <li>Identificable √∫nicamente</li>
                                <li>Tiene propiedades (atributos)</li>
                                <li>Participa en relaciones</li>
                            </ul>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Ejemplos:</h4>
                            <ul>
                                <li>ESTUDIANTE, PROFESOR, CURSO</li>
                                <li>CLIENTE, PRODUCTO, PEDIDO</li>
                                <li>EMPLEADO, DEPARTAMENTO, PROYECTO</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Conjunto de Entidades</h4>
                            <p>Colecci√≥n de entidades del mismo tipo que comparten las mismas propiedades o atributos.</p>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Caracter√≠sticas:</h4>
                            <ul>
                                <li>Elementos homog√©neos</li>
                                <li>Misma estructura de atributos</li>
                                <li>Comportamiento similar</li>
                                <li>Reglas de negocio comunes</li>
                            </ul>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Instancias vs Tipos:</h4>
                            <ul>
                                <li><strong>Tipo:</strong> ESTUDIANTE (concepto)</li>
                                <li><strong>Instancia:</strong> Juan P√©rez, Mar√≠a Garc√≠a</li>
                                <li><strong>Conjunto:</strong> Todos los estudiantes</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîó Relaciones</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Definici√≥n</h4>
                            <p>Asociaci√≥n significativa entre dos o m√°s entidades que representa una conexi√≥n o interacci√≥n del mundo real.</p>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Tipos por Grado:</h4>
                            <ul>
                                <li><strong>Unaria (Recursiva):</strong> Una entidad se relaciona consigo misma</li>
                                <li><strong>Binaria:</strong> Entre dos entidades diferentes</li>
                                <li><strong>Ternaria:</strong> Entre tres entidades</li>
                                <li><strong>N-aria:</strong> Entre n entidades</li>
                            </ul>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Ejemplos:</h4>
                            <ul>
                                <li>ESTUDIANTE <em>matricula</em> CURSO</li>
                                <li>EMPLEADO <em>trabaja_para</em> DEPARTAMENTO</li>
                                <li>M√âDICO <em>atiende</em> PACIENTE</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Conjunto de Relaciones</h4>
                            <p>Colecci√≥n de relaciones del mismo tipo entre los mismos conjuntos de entidades.</p>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Propiedades:</h4>
                            <ul>
                                <li>Pueden tener atributos propios</li>
                                <li>Cardinalidad espec√≠fica</li>
                                <li>Restricciones de participaci√≥n</li>
                                <li>Sem√°ntica del dominio</li>
                            </ul>
                            
                            <div class="code-example">
                                <pre>
RELACI√ìN: TRABAJA_EN
- EMPLEADO ‚Üí DEPARTAMENTO
- Atributos: fecha_inicio, salario
- Cardinalidad: N:1 (muchos a uno)
- Participaci√≥n: Total para EMPLEADO
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üè∑Ô∏è Atributos</h3>
                    
                    <div class="grid grid-3">
                        <div>
                            <h4 style="color: var(--primary);">Simples vs Compuestos</h4>
                            <ul>
                                <li><strong>Simples:</strong> Indivisibles
                                    <ul><li>nombre, edad, salario</li></ul>
                                </li>
                                <li><strong>Compuestos:</strong> Divisibles
                                    <ul><li>direcci√≥n (calle, ciudad, CP)</li></ul>
                                </li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Valor √önico vs Multivalor</h4>
                            <ul>
                                <li><strong>√önico:</strong> Un valor
                                    <ul><li>c√©dula, fecha_nacimiento</li></ul>
                                </li>
                                <li><strong>Multivalor:</strong> M√∫ltiples valores
                                    <ul><li>tel√©fonos, t√≠tulos</li></ul>
                                </li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Almacenado vs Derivado</h4>
                            <ul>
                                <li><strong>Almacenado:</strong> Se guarda
                                    <ul><li>fecha_nacimiento</li></ul>
                                </li>
                                <li><strong>Derivado:</strong> Se calcula
                                    <ul><li>edad (de fecha_nacimiento)</li></ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîë Claves</h3>
                    
                    <div class="comparison-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Tipo de Clave</th>
                                    <th>Definici√≥n</th>
                                    <th>Caracter√≠sticas</th>
                                    <th>Ejemplo</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Superclave</strong></td>
                                    <td>Conjunto de atributos que identifica √∫nicamente</td>
                                    <td>Puede tener atributos redundantes</td>
                                    <td>{c√©dula, nombre, apellido}</td>
                                </tr>
                                <tr>
                                    <td><strong>Clave Candidata</strong></td>
                                    <td>Superclave m√≠nima</td>
                                    <td>Sin atributos redundantes</td>
                                    <td>{c√©dula} o {email}</td>
                                </tr>
                                <tr>
                                    <td><strong>Clave Primaria</strong></td>
                                    <td>Clave candidata elegida</td>
                                    <td>√önica, no nula, inmutable</td>
                                    <td>{c√©dula}</td>
                                </tr>
                                <tr>
                                    <td><strong>Clave Alternativa</strong></td>
                                    <td>Candidatas no elegidas como primaria</td>
                                    <td>√önicas pero no primarias</td>
                                    <td>{email}</td>
                                </tr>
                                <tr>
                                    <td><strong>Clave For√°nea</strong></td>
                                    <td>Referencia a clave primaria de otra entidad</td>
                                    <td>Mantiene integridad referencial</td>
                                    <td>departamento_id ‚Üí DEPARTAMENTO</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <h3>‚öñÔ∏è Restricciones de Integridad</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Restricciones de Entidad</h4>
                            <ul>
                                <li><strong>Clave primaria:</strong> No puede ser nula</li>
                                <li><strong>Unicidad:</strong> Valores √∫nicos en atributos clave</li>
                                <li><strong>Dominio:</strong> Valores dentro del rango permitido</li>
                                <li><strong>Formato:</strong> Estructura espec√≠fica requerida</li>
                            </ul>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Restricciones de Usuario</h4>
                            <ul>
                                <li><strong>Rango:</strong> Salario > 0</li>
                                <li><strong>Formato:</strong> Email v√°lido</li>
                                <li><strong>Consistencia:</strong> Fecha_fin > Fecha_inicio</li>
                                <li><strong>Negocio:</strong> Edad >= 18 para empleados</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Restricciones Referenciales</h4>
                            <ul>
                                <li><strong>Integridad referencial:</strong> FK debe existir en tabla referenciada</li>
                                <li><strong>Borrado en cascada:</strong> Elimina registros dependientes</li>
                                <li><strong>Actualizaci√≥n en cascada:</strong> Propaga cambios de clave</li>
                                <li><strong>Restricci√≥n de borrado:</strong> Impide eliminar si hay dependientes</li>
                            </ul>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Restricciones Sem√°nticas</h4>
                            <ul>
                                <li><strong>Estado:</strong> Un empleado no puede ser su propio jefe</li>
                                <li><strong>Temporal:</strong> Fecha matriculaci√≥n < Fecha graduaci√≥n</li>
                                <li><strong>Cardinalidad:</strong> Un estudiante m√°ximo 6 materias por semestre</li>
                                <li><strong>Exclusi√≥n:</strong> Un empleado no puede trabajar en proyectos competidores</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="best-practices">
                    <h3>‚úÖ Principios de Dise√±o</h3>
                    <div class="practices-grid">
                        <div class="practice-item">
                            <strong>Completitud</strong>
                            <p>Capturar todos los conceptos relevantes del dominio</p>
                        </div>
                        <div class="practice-item">
                            <strong>Minimalidad</strong>
                            <p>Solo incluir lo necesario, evitar redundancia</p>
                        </div>
                        <div class="practice-item">
                            <strong>Expresividad</strong>
                            <p>Representar adecuadamente la sem√°ntica del dominio</p>
                        </div>
                        <div class="practice-item">
                            <strong>Legibilidad</strong>
                            <p>Diagramas claros y comprensibles</p>
                        </div>
                        <div class="practice-item">
                            <strong>Consistencia</strong>
                            <p>Uso uniforme de convenciones y nomenclatura</p>
                        </div>
                        <div class="practice-item">
                            <strong>Flexibilidad</strong>
                            <p>Adaptable a cambios futuros del negocio</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="components" class="tab-content">
                <div class="section-title">
                    <div class="section-icon">üß©</div>
                    <span>Componentes del Modelo E-R</span>
                </div>

                <div class="card">
                    <h3>üî¢ Cardinalidad de Relaciones</h3>
                    
                    <div class="cardinality-examples">
                        <div class="cardinality-card">
                            <div class="cardinality-symbol">1:1</div>
                            <h4>Uno a Uno</h4>
                            <p><strong>Ejemplo:</strong> EMPLEADO - ESCRITORIO</p>
                            <p>Un empleado tiene exactamente un escritorio, y un escritorio pertenece a exactamente un empleado.</p>
                        </div>
                        
                        <div class="cardinality-card">
                            <div class="cardinality-symbol">1:N</div>
                            <h4>Uno a Muchos</h4>
                            <p><strong>Ejemplo:</strong> DEPARTAMENTO - EMPLEADO</p>
                            <p>Un departamento tiene muchos empleados, pero un empleado pertenece a un solo departamento.</p>
                        </div>
                        
                        <div class="cardinality-card">
                            <div class="cardinality-symbol">N:1</div>
                            <h4>Muchos a Uno</h4>
                            <p><strong>Ejemplo:</strong> ESTUDIANTE - UNIVERSIDAD</p>
                            <p>Muchos estudiantes estudian en una universidad, pero cada estudiante estudia en una sola universidad.</p>
                        </div>
                        
                        <div class="cardinality-card">
                            <div class="cardinality-symbol">M:N</div>
                            <h4>Muchos a Muchos</h4>
                            <p><strong>Ejemplo:</strong> ESTUDIANTE - CURSO</p>
                            <p>Un estudiante puede inscribirse en muchos cursos, y un curso puede tener muchos estudiantes.</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üë• Restricciones de Participaci√≥n</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Participaci√≥n Total</h4>
                            <p>Cada entidad del conjunto debe participar al menos una vez en la relaci√≥n.</p>
                            
                            <div class="code-example">
                                <pre>
EJEMPLO: EMPLEADO trabaja_para DEPARTAMENTO
- Participaci√≥n TOTAL de EMPLEADO
- Todo empleado DEBE trabajar para un departamento
- Representaci√≥n: L√≠nea doble en el diagrama
                                </pre>
                            </div>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Caracter√≠sticas:</h4>
                            <ul>
                                <li>Obligatoria (mandatoria)</li>
                                <li>Cardinalidad m√≠nima ‚â• 1</li>
                                <li>Restricci√≥n de existencia</li>
                                <li>Integridad referencial estricta</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Participaci√≥n Parcial</h4>
                            <p>Las entidades del conjunto pueden o no participar en la relaci√≥n.</p>
                            
                            <div class="code-example">
                                <pre>
EJEMPLO: EMPLEADO supervisa EMPLEADO
- Participaci√≥n PARCIAL de EMPLEADO
- No todo empleado es supervisor
- Representaci√≥n: L√≠nea simple en el diagrama
                                </pre>
                            </div>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Caracter√≠sticas:</h4>
                            <ul>
                                <li>Opcional</li>
                                <li>Cardinalidad m√≠nima = 0</li>
                                <li>Mayor flexibilidad</li>
                                <li>Valores nulos permitidos</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîó Tipos Especiales de Entidades</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Entidades Fuertes</h4>
                            <p>Entidades que tienen existencia independiente y poseen clave primaria propia.</p>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Caracter√≠sticas:</h4>
                            <ul>
                                <li>Clave primaria propia</li>
                                <li>Existencia independiente</li>
                                <li>Rect√°ngulo simple en diagrama</li>
                                <li>Base para entidades d√©biles</li>
                            </ul>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Ejemplos:</h4>
                            <ul>
                                <li>CLIENTE (clave: c√©dula)</li>
                                <li>PRODUCTO (clave: c√≥digo)</li>
                                <li>EMPLEADO (clave: id_empleado)</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Entidades D√©biles</h4>
                            <p>Entidades que no pueden identificarse por s√≠ solas y dependen de una entidad fuerte.</p>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Caracter√≠sticas:</h4>
                            <ul>
                                <li>No tienen clave primaria completa</li>
                                <li>Clave parcial + clave de entidad fuerte</li>
                                <li>Rect√°ngulo doble en diagrama</li>
                                <li>Dependencia existencial</li>
                            </ul>
                            
                            <h4 style="color: var(--primary); margin-top: 1.5rem;">Ejemplos:</h4>
                            <ul>
                                <li>DEPENDIENTE (depende de EMPLEADO)</li>
                                <li>HABITACI√ìN (depende de HOTEL)</li>
                                <li>L√çNEA_PEDIDO (depende de PEDIDO)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîÑ Relaciones Especiales</h3>
                    
                    <div class="normalization-steps">
                        <div class="norm-step">
                            <div class="norm-number">1</div>
                            <div>
                                <h4>Relaciones Recursivas (Unarias)</h4>
                                <p><strong>Definici√≥n:</strong> Una entidad se relaciona consigo misma. La misma entidad participa m√∫ltiples veces en roles diferentes.</p>
                                <p><strong>Ejemplo:</strong> EMPLEADO supervisa EMPLEADO (roles: supervisor/supervisado)</p>
                            </div>
                        </div>
                        
                        <div class="norm-step">
                            <div class="norm-number">2</div>
                            <div>
                                <h4>Relaciones Ternarias</h4>
                                <p><strong>Definici√≥n:</strong> Involucra tres entidades simult√°neamente. No se puede descomponer en relaciones binarias sin p√©rdida de informaci√≥n.</p>
                                <p><strong>Ejemplo:</strong> M√âDICO trata PACIENTE con MEDICAMENTO (incluye dosis, fecha)</p>
                            </div>
                        </div>
                        
                        <div class="norm-step">
                            <div class="norm-number">3</div>
                            <div>
                                <h4>Relaciones de Identificaci√≥n</h4>
                                <p><strong>Definici√≥n:</strong> Conecta una entidad d√©bil con su entidad fuerte propietaria. La clave de la entidad fuerte forma parte de la clave de la d√©bil.</p>
                                <p><strong>Ejemplo:</strong> PEDIDO identifica L√çNEA_PEDIDO (l√≠nea depende de pedido)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Tipo de Relaci√≥n</th>
                                <th>Grado</th>
                                <th>Cardinalidad T√≠pica</th>
                                <th>Ejemplo</th>
                                <th>Implementaci√≥n</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Binaria Simple</strong></td>
                                <td>2</td>
                                <td>1:N, M:N</td>
                                <td>CLIENTE compra PRODUCTO</td>
                                <td>FK o tabla intermedia</td>
                            </tr>
                            <tr>
                                <td><strong>Recursiva</strong></td>
                                <td>1 (roles m√∫ltiples)</td>
                                <td>1:N, M:N</td>
                                <td>EMPLEADO supervisa EMPLEADO</td>
                                <td>FK autoreferencial</td>
                            </tr>
                            <tr>
                                <td><strong>Ternaria</strong></td>
                                <td>3</td>
                                <td>Compleja</td>
                                <td>PROVEEDOR suministra PRODUCTO a PROYECTO</td>
                                <td>Tabla con 3 FK</td>
                            </tr>
                            <tr>
                                <td><strong>Identificaci√≥n</strong></td>
                                <td>2</td>
                                <td>1:N</td>
                                <td>FACTURA tiene DETALLE</td>
                                <td>FK como parte de PK</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="best-practices">
                    <h3>üéØ Mejores Pr√°cticas para Componentes</h3>
                    <div class="practices-grid">
                        <div class="practice-item">
                            <strong>Nomenclatura Clara</strong>
                            <p>Nombres descriptivos para entidades, relaciones y atributos</p>
                        </div>
                        <div class="practice-item">
                            <strong>Cardinalidad Precisa</strong>
                            <p>Especificar cardinalidades m√≠nimas y m√°ximas claramente</p>
                        </div>
                        <div class="practice-item">
                            <strong>Atributos Apropiados</strong>
                            <p>Colocar atributos en la entidad o relaci√≥n correcta</p>
                        </div>
                        <div class="practice-item">
                            <strong>Minimizar Ternarias</strong>
                            <p>Usar solo cuando no sea posible descomponer sin p√©rdida</p>
                        </div>
                        <div class="practice-item">
                            <strong>Evitar Redundancia</strong>
                            <p>No duplicar informaci√≥n entre entidades relacionadas</p>
                        </div>
                        <div class="practice-item">
                            <strong>Validar Dependencias</strong>
                            <p>Asegurar que entidades d√©biles realmente lo necesiten</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìä Notaciones Alternativas</h3>
                    
                    <div class="grid grid-3">
                        <div>
                            <h4 style="color: var(--primary);">Notaci√≥n Chen</h4>
                            <ul>
                                <li>Rect√°ngulos para entidades</li>
                                <li>Rombos para relaciones</li>
                                <li>√ìvalos para atributos</li>
                                <li>L√≠neas conectando elementos</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Notaci√≥n Crow's Foot</h4>
                            <ul>
                                <li>Rect√°ngulos para entidades</li>
                                <li>L√≠neas con s√≠mbolos para relaciones</li>
                                <li>Atributos listados dentro de entidades</li>
                                <li>M√°s compacta y pr√°ctica</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Notaci√≥n UML</h4>
                            <ul>
                                <li>Clases en lugar de entidades</li>
                                <li>Asociaciones para relaciones</li>
                                <li>Multiplicidades como cardinalidad</li>
                                <li>Orientado a objetos</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div id="design" class="tab-content">
                <div class="section-title">
                    <div class="section-icon">‚úèÔ∏è</div>
                    <span>Proceso de Dise√±o</span>
                </div>

                <div class="card">
                    <h3>üó∫Ô∏è Metodolog√≠a de Dise√±o E-R</h3>
                    
                    <div class="transformation-flow">
                        <div class="transform-step">
                            <div class="transform-icon">1</div>
                            <div>
                                <h4>An√°lisis de Requerimientos</h4>
                                <p><strong>Actividades:</strong> Recopilar requerimientos funcionales y de datos, entrevistas con usuarios, an√°lisis de documentaci√≥n existente, identificaci√≥n de procesos de negocio.</p>
                                <p><strong>Resultado:</strong> Documento de requerimientos de datos</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">2</div>
                            <div>
                                <h4>Identificaci√≥n de Entidades</h4>
                                <p><strong>Actividades:</strong> Extraer sustantivos de requerimientos, clasificar en entidades vs atributos, definir conjuntos de entidades, validar con stakeholders.</p>
                                <p><strong>Resultado:</strong> Lista preliminar de entidades</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">3</div>
                            <div>
                                <h4>Identificaci√≥n de Relaciones</h4>
                                <p><strong>Actividades:</strong> Extraer verbos y asociaciones, determinar cardinalidades, identificar restricciones de participaci√≥n, validar reglas de negocio.</p>
                                <p><strong>Resultado:</strong> Conjunto de relaciones con cardinalidades</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">4</div>
                            <div>
                                <h4>Definici√≥n de Atributos</h4>
                                <p><strong>Actividades:</strong> Asignar propiedades a entidades/relaciones, identificar claves primarias, determinar dominios y restricciones, definir atributos derivados.</p>
                                <p><strong>Resultado:</strong> Especificaci√≥n completa de atributos</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">5</div>
                            <div>
                                <h4>Construcci√≥n del Diagrama</h4>
                                <p><strong>Actividades:</strong> Crear diagrama E-R inicial, aplicar convenciones de notaci√≥n, revisar y refinar estructura, documentar decisiones de dise√±o.</p>
                                <p><strong>Resultado:</strong> Diagrama E-R conceptual</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">6</div>
                            <div>
                                <h4>Validaci√≥n y Refinamiento</h4>
                                <p><strong>Actividades:</strong> Revisar con usuarios finales, verificar completitud y consistencia, optimizar estructura, documentar versi√≥n final.</p>
                                <p><strong>Resultado:</strong> Modelo E-R validado y aprobado</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîç T√©cnicas de Identificaci√≥n</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Identificaci√≥n de Entidades</h4>
                            
                            <h5 style="color: var(--info);">Criterios de Entidad:</h5>
                            <ul>
                                <li>Tiene m√∫ltiples instancias</li>
                                <li>Cada instancia es identificable √∫nicamente</li>
                                <li>Se almacenan datos sobre ella</li>
                                <li>Tiene existencia independiente</li>
                            </ul>
                            
                            <h5 style="color: var(--info);">T√©cnicas:</h5>
                            <ul>
                                <li><strong>An√°lisis de sustantivos:</strong> Extraer de descripciones</li>
                                <li><strong>Clasificaci√≥n:</strong> Entidad vs atributo vs valor</li>
                                <li><strong>Prueba de instancias:</strong> ¬øExisten m√∫ltiples casos?</li>
                                <li><strong>Prueba de informaci√≥n:</strong> ¬øSe almacenan datos?</li>
                            </ul>

                            <div class="code-example">
                                <pre>
EJEMPLO - Sistema Biblioteca:
"Los estudiantes pueden tomar prestados libros"

SUSTANTIVOS IDENTIFICADOS:
- Estudiante ‚Üí ENTIDAD (m√∫ltiples instancias)
- Libro ‚Üí ENTIDAD (m√∫ltiples instancias)  
- Pr√©stamo ‚Üí RELACI√ìN/ENTIDAD (evento)
                                </pre>
                            </div>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Identificaci√≥n de Relaciones</h4>
                            
                            <h5 style="color: var(--info);">Criterios de Relaci√≥n:</h5>
                            <ul>
                                <li>Conecta dos o m√°s entidades</li>
                                <li>Representa asociaci√≥n significativa</li>
                                <li>Puede tener atributos propios</li>
                                <li>Refleja reglas de negocio</li>
                            </ul>
                            
                            <h5 style="color: var(--info);">T√©cnicas:</h5>
                            <ul>
                                <li><strong>An√°lisis de verbos:</strong> Extraer acciones/asociaciones</li>
                                <li><strong>Matriz de entidades:</strong> Cruzar todas las entidades</li>
                                <li><strong>An√°lisis de procesos:</strong> Identificar interacciones</li>
                                <li><strong>Validaci√≥n sem√°ntica:</strong> Verificar significado</li>
                            </ul>

                            <div class="code-example">
                                <pre>
EJEMPLO - Determinaci√≥n de Cardinalidad:
"Un estudiante puede tomar muchos libros prestados"
"Un libro puede ser prestado a muchos estudiantes (no simult√°neamente)"

AN√ÅLISIS:
- ESTUDIANTE presta LIBRO
- Cardinalidad: M:N (hist√≥rica)
- Con tiempo: 1:N (en un momento dado)
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>‚ö†Ô∏è Problemas Comunes de Dise√±o</h3>
                    
                    <div class="comparison-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Problema</th>
                                    <th>Descripci√≥n</th>
                                    <th>S√≠ntomas</th>
                                    <th>Soluci√≥n</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Entidades Fantoches</strong></td>
                                    <td>Entidades con solo clave primaria</td>
                                    <td>Entidades sin atributos descriptivos</td>
                                    <td>Convertir a atributo de otra entidad</td>
                                </tr>
                                <tr>
                                    <td><strong>Atributos como Entidades</strong></td>
                                    <td>Conceptos simples modelados como entidades</td>
                                    <td>Entidades con una sola instancia por padre</td>
                                    <td>Simplificar a atributo</td>
                                </tr>
                                <tr>
                                    <td><strong>Relaciones Redundantes</strong></td>
                                    <td>Relaciones que se pueden derivar</td>
                                    <td>Informaci√≥n duplicada en el modelo</td>
                                    <td>Eliminar relaci√≥n derivable</td>
                                </tr>
                                <tr>
                                    <td><strong>Cardinalidades Incorrectas</strong></td>
                                    <td>No refleja reglas de negocio reales</td>
                                    <td>Restricciones muy laxas o estrictas</td>
                                    <td>Revisar requerimientos con usuarios</td>
                                </tr>
                                <tr>
                                    <td><strong>Entidades D√©biles Innecesarias</strong></td>
                                    <td>Modelar como d√©bil cuando puede ser fuerte</td>
                                    <td>Dependencia artificial</td>
                                    <td>Reevaluar independencia conceptual</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="best-practices">
                    <h3>‚úÖ Mejores Pr√°cticas de Dise√±o</h3>
                    <div class="practices-grid">
                        <div class="practice-item">
                            <strong>Partir de los Datos</strong>
                            <p>Enfocarse en qu√© datos se necesitan, no en c√≥mo se procesar√°n</p>
                        </div>
                        <div class="practice-item">
                            <strong>Modelar la Realidad</strong>
                            <p>Reflejar fielmente el mundo real, no sistemas existentes</p>
                        </div>
                        <div class="practice-item">
                            <strong>Iteraci√≥n Constante</strong>
                            <p>Refinar el modelo continuamente con nueva informaci√≥n</p>
                        </div>
                        <div class="practice-item">
                            <strong>Validaci√≥n Frecuente</strong>
                            <p>Revisar con stakeholders regularmente</p>
                        </div>
                        <div class="practice-item">
                            <strong>Documentar Decisiones</strong>
                            <p>Registrar el razonamiento detr√°s de cada decisi√≥n</p>
                        </div>
                        <div class="practice-item">
                            <strong>Equilibrar Detalle</strong>
                            <p>Ni muy abstracto ni excesivamente detallado</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîß Herramientas de Dise√±o</h3>
                    
                    <div class="grid grid-3">
                        <div>
                            <h4 style="color: var(--primary);">Herramientas Especializadas</h4>
                            <ul>
                                <li><strong>ER/Studio:</strong> Modelado profesional</li>
                                <li><strong>PowerDesigner:</strong> Suite completa</li>
                                <li><strong>DBDesigner:</strong> Open source</li>
                                <li><strong>MySQL Workbench:</strong> Integrado con MySQL</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Herramientas Generales</h4>
                            <ul>
                                <li><strong>Visio:</strong> Diagramaci√≥n general</li>
                                <li><strong>Lucidchart:</strong> Colaborativo online</li>
                                <li><strong>Draw.io:</strong> Gratuito, web-based</li>
                                <li><strong>Dia:</strong> Open source desktop</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Criterios de Selecci√≥n</h4>
                            <ul>
                                <li>Soporte para notaci√≥n E-R</li>
                                <li>Generaci√≥n de esquemas</li>
                                <li>Colaboraci√≥n en equipo</li>
                                <li>Integraci√≥n con SGBD</li>
                                <li>Costo y licenciamiento</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìã Lista de Verificaci√≥n de Dise√±o</h3>
                    
                    <div class="code-example">
                        <pre>
CHECKLIST DE VALIDACI√ìN E-R:

‚úì ENTIDADES
‚ñ° Todas las entidades tienen nombre √∫nico y descriptivo
‚ñ° Cada entidad tiene al menos una clave candidata
‚ñ° No hay entidades fantoches (solo con clave primaria)
‚ñ° Entidades d√©biles realmente necesitan dependencia

‚úì RELACIONES  
‚ñ° Todas las relaciones tienen nombres descriptivos
‚ñ° Cardinalidades reflejan reglas de negocio reales
‚ñ° Restricciones de participaci√≥n son correctas
‚ñ° No hay relaciones redundantes derivables

‚úì ATRIBUTOS
‚ñ° Atributos est√°n en la entidad/relaci√≥n correcta
‚ñ° Dominios y restricciones est√°n definidos
‚ñ° Claves primarias son inmutables y no nulas
‚ñ° Atributos multivalor est√°n identificados

‚úì INTEGRIDAD
‚ñ° Restricciones de integridad referencial definidas
‚ñ° Reglas de negocio est√°n representadas
‚ñ° No hay inconsistencias en el modelo
‚ñ° Modelo es completo para requerimientos dados

‚úì CALIDAD
‚ñ° Diagrama es legible y bien organizado
‚ñ° Nomenclatura es consistente
‚ñ° Documentaci√≥n acompa√±a el modelo
‚ñ° Stakeholders han validado el dise√±o
                        </pre>
                    </div>
                </div>
            </div>

            <div id="transformation" class="tab-content">
                <div class="section-title">
                    <div class="section-icon">üîÑ</div>
                    <span>Transformaci√≥n a Modelo Relacional</span>
                </div>

                <div class="card">
                    <h3>üèóÔ∏è Proceso de Transformaci√≥n</h3>
                    <p>La transformaci√≥n del modelo E-R al modelo relacional sigue reglas sistem√°ticas para preservar la sem√°ntica de los datos.</p>
                    
                    <div class="transformation-flow">
                        <div class="transform-step">
                            <div class="transform-icon">1</div>
                            <div>
                                <h4>Entidades Fuertes ‚Üí Tablas</h4>
                                <p><strong>Regla:</strong> Cada entidad fuerte se convierte en una tabla. Los atributos simples se convierten en columnas. La clave primaria de la entidad se convierte en la clave primaria de la tabla.</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">2</div>
                            <div>
                                <h4>Entidades D√©biles ‚Üí Tablas con FK</h4>
                                <p><strong>Regla:</strong> Cada entidad d√©bil se convierte en tabla. La clave primaria incluye la clave parcial m√°s las claves primarias de las entidades propietarias como claves for√°neas.</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">3</div>
                            <div>
                                <h4>Relaciones 1:1 ‚Üí FK o Fusi√≥n</h4>
                                <p><strong>Regla:</strong> Agregar FK de una entidad a la otra, o fusionar las entidades en una sola tabla si la participaci√≥n es total en ambos lados.</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">4</div>
                            <div>
                                <h4>Relaciones 1:N ‚Üí FK en lado N</h4>
                                <p><strong>Regla:</strong> Agregar la clave primaria del lado "uno" como clave for√°nea en la tabla del lado "muchos". Incluir atributos de la relaci√≥n.</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">5</div>
                            <div>
                                <h4>Relaciones M:N ‚Üí Tabla Intermedia</h4>
                                <p><strong>Regla:</strong> Crear nueva tabla con las claves primarias de ambas entidades como claves for√°neas. La combinaci√≥n forma la clave primaria.</p>
                            </div>
                        </div>

                        <div class="transform-step">
                            <div class="transform-icon">6</div>
                            <div>
                                <h4>Atributos Multivalor ‚Üí Tabla Separada</h4>
                                <p><strong>Regla:</strong> Crear tabla separada con la clave primaria de la entidad propietaria m√°s el atributo multivalor como clave primaria compuesta.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìä Ejemplos de Transformaci√≥n</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Entidad Fuerte</h4>
                            <div class="code-example">
                                <pre>
E-R MODELO:
ESTUDIANTE (id_estudiante, nombre, apellido, email)
- Clave: id_estudiante

TRANSFORMACI√ìN:
CREATE TABLE ESTUDIANTE (
    id_estudiante   INT PRIMARY KEY,
    nombre          VARCHAR(50) NOT NULL,
    apellido        VARCHAR(50) NOT NULL,
    email           VARCHAR(100) UNIQUE
);
                                </pre>
                            </div>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Relaci√≥n 1:N</h4>
                            <div class="code-example">
                                <pre>
E-R MODELO:
DEPARTAMENTO (1) ‚Üê empleados ‚Üí (N) EMPLEADO
Atributo relaci√≥n: fecha_asignacion

TRANSFORMACI√ìN:
CREATE TABLE EMPLEADO (
    id_empleado         INT PRIMARY KEY,
    nombre              VARCHAR(50),
    id_departamento     INT NOT NULL,
    fecha_asignacion    DATE,
    FOREIGN KEY (id_departamento) 
        REFERENCES DEPARTAMENTO(id_departamento)
);
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîó Transformaci√≥n de Relaciones M:N</h3>
                    
                    <div class="code-example">
                        <pre>
E-R MODELO:
ESTUDIANTE (M) ‚Üê matricula ‚Üí (N) CURSO
Atributos relaci√≥n: fecha_matricula, calificacion

DIAGRAMA E-R:
[ESTUDIANTE] ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚óá MATRICULA ‚óá‚îÄ‚îÄ‚îÄ‚îÄ‚Üí [CURSO]
    ‚îÇ                    ‚îÇ                ‚îÇ
  id_est              fecha_mat       id_curso
  nombre             calificacion      nombre
  apellido                            creditos

TRANSFORMACI√ìN AL MODELO RELACIONAL:

CREATE TABLE ESTUDIANTE (
    id_estudiante   INT PRIMARY KEY,
    nombre          VARCHAR(50),
    apellido        VARCHAR(50)
);

CREATE TABLE CURSO (
    id_curso        INT PRIMARY KEY,
    nombre          VARCHAR(100),
    creditos        INT
);

CREATE TABLE MATRICULA (
    id_estudiante   INT,
    id_curso        INT,
    fecha_matricula DATE,
    calificacion    DECIMAL(3,2),
    PRIMARY KEY (id_estudiante, id_curso),
    FOREIGN KEY (id_estudiante) REFERENCES ESTUDIANTE(id_estudiante),
    FOREIGN KEY (id_curso) REFERENCES CURSO(id_curso)
);
                        </pre>
                    </div>
                </div>

                <div class="card">
                    <h3>üîß Transformaci√≥n de Casos Especiales</h3>
                    
                    <div class="comparison-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Caso E-R</th>
                                    <th>Transformaci√≥n</th>
                                    <th>Ejemplo SQL</th>
                                    <th>Observaciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Atributo Compuesto</strong></td>
                                    <td>Expandir en atributos simples</td>
                                    <td>direccion ‚Üí calle, ciudad, cp</td>
                                    <td>Puede mantenerse como un solo campo</td>
                                </tr>
                                <tr>
                                    <td><strong>Atributo Multivalor</strong></td>
                                    <td>Tabla separada</td>
                                    <td>EMPLEADO_TELEFONOS(id_emp, telefono)</td>
                                    <td>PK compuesta</td>
                                </tr>
                                <tr>
                                    <td><strong>Atributo Derivado</strong></td>
                                    <td>No almacenar (calcular)</td>
                                    <td>edad ‚Üí calculada de fecha_nacimiento</td>
                                    <td>Vista o funci√≥n</td>
                                </tr>
                                <tr>
                                    <td><strong>Relaci√≥n Ternaria</strong></td>
                                    <td>Tabla con 3+ FK</td>
                                    <td>ASIGNACION(medico, paciente, tratamiento)</td>
                                    <td>No descomponer</td>
                                </tr>
                                <tr>
                                    <td><strong>Relaci√≥n Recursiva</strong></td>
                                    <td>FK autoreferencial</td>
                                    <td>EMPLEADO(id, supervisor_id)</td>
                                    <td>FK puede ser NULL</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="card">
                    <h3>‚öñÔ∏è Decisiones de Dise√±o</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Relaciones 1:1 - Opciones</h4>
                            
                            <h5 style="color: var(--info);">Opci√≥n 1: FK en Cualquier Lado</h5>
                            <div class="code-example">
                                <pre>
EMPLEADO(id, nombre, escritorio_id)
ESCRITORIO(id, ubicacion)
-- FK en EMPLEADO
                                </pre>
                            </div>
                            
                            <h5 style="color: var(--info);">Opci√≥n 2: Fusionar Tablas</h5>
                            <div class="code-example">
                                <pre>
EMPLEADO_ESCRITORIO(id_empleado, nombre, 
                    ubicacion_escritorio)
-- Una sola tabla si participaci√≥n total
                                </pre>
                            </div>
                            
                            <h5 style="color: var(--info);">Criterios de Decisi√≥n:</h5>
                            <ul>
                                <li>Participaci√≥n total ‚Üí Fusionar</li>
                                <li>Participaci√≥n parcial ‚Üí FK en lado total</li>
                                <li>Frecuencia de acceso conjunto</li>
                                <li>Tama√±o y crecimiento de datos</li>
                            </ul>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--primary);">Optimizaciones</h4>
                            
                            <h5 style="color: var(--info);">Desnormalizaci√≥n Controlada</h5>
                            <ul>
                                <li>Duplicar datos para mejorar rendimiento</li>
                                <li>Campos calculados almacenados</li>
                                <li>Tablas de resumen</li>
                            </ul>
                            
                            <h5 style="color: var(--info);">Particionamiento</h5>
                            <ul>
                                <li>Dividir tablas grandes</li>
                                <li>Partici√≥n horizontal (por filas)</li>
                                <li>Partici√≥n vertical (por columnas)</li>
                            </ul>
                            
                            <h5 style="color: var(--info);">√çndices Estrat√©gicos</h5>
                            <ul>
                                <li>√çndices en FK para JOINs</li>
                                <li>√çndices compuestos para consultas frecuentes</li>
                                <li>Balance entre velocidad de consulta y espacio</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="best-practices">
                    <h3>‚úÖ Mejores Pr√°cticas de Transformaci√≥n</h3>
                    <div class="practices-grid">
                        <div class="practice-item">
                            <strong>Preservar Sem√°ntica</strong>
                            <p>Mantener todas las restricciones de integridad del modelo E-R</p>
                        </div>
                        <div class="practice-item">
                            <strong>Nomenclatura Consistente</strong>
                            <p>Usar convenciones claras para tablas, columnas y restricciones</p>
                        </div>
                        <div class="practice-item">
                            <strong>Documentar Decisiones</strong>
                            <p>Registrar el razonamiento detr√°s de cada transformaci√≥n</p>
                        </div>
                        <div class="practice-item">
                            <strong>Validar Integridad</strong>
                            <p>Implementar todas las restricciones como CHECK constraints</p>
                        </div>
                        <div class="practice-item">
                            <strong>Considerar Rendimiento</strong>
                            <p>Evaluar el impacto de decisiones en el rendimiento</p>
                        </div>
                        <div class="practice-item">
                            <strong>Mantener Trazabilidad</strong>
                            <p>Poder trazar cada tabla/columna al modelo E-R original</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîç Validaci√≥n Post-Transformaci√≥n</h3>
                    
                    <div class="code-example">
                        <pre>
CHECKLIST DE VALIDACI√ìN:

‚úì COMPLETITUD
‚ñ° Todas las entidades fueron transformadas
‚ñ° Todas las relaciones est√°n representadas  
‚ñ° Todos los atributos fueron incluidos
‚ñ° Restricciones de integridad implementadas

‚úì CORRECCI√ìN
‚ñ° Claves primarias correctamente definidas
‚ñ° Claves for√°neas referencian tablas correctas
‚ñ° Cardinalidades preservadas en estructura
‚ñ° Participaciones reflejadas en restricciones NOT NULL

‚úì CALIDAD
‚ñ° Nomenclatura consistente y clara
‚ñ° Tipos de datos apropiados
‚ñ° √çndices en claves for√°neas
‚ñ° Documentaci√≥n actualizada

‚úì INTEGRIDAD
‚ñ° Restricciones de dominio (CHECK constraints)
‚ñ° Integridad referencial (FOREIGN KEY)  
‚ñ° Restricciones de negocio implementadas
‚ñ° Triggers para reglas complejas si necesario
                        </pre>
                    </div>
                </div>
            </div>

            <div id="case-study" class="tab-content">
                <div class="section-title">
                    <div class="section-icon">üìö</div>
                    <span>Caso Pr√°ctico: Sistema Hospitalario</span>
                </div>

                <div class="highlight">
                    <h3>üè• Sistema de Gesti√≥n Hospitalaria "San Rafael"</h3>
                    <p>Desarrollaremos un modelo E-R completo para un hospital que incluye gesti√≥n de pacientes, m√©dicos, citas, hospitalizaciones, tratamientos y facturaci√≥n.</p>
                </div>

                <div class="card">
                    <h3>üìã Descripci√≥n del Sistema</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Requerimientos Funcionales</h4>
                            <ul>
                                <li><strong>Gesti√≥n de Pacientes:</strong> Registro, historial m√©dico, seguros</li>
                                <li><strong>Gesti√≥n de Personal:</strong> M√©dicos, enfermeros, especialidades</li>
                                <li><strong>Citas M√©dicas:</strong> Programaci√≥n, seguimiento, cancelaciones</li>
                                <li><strong>Hospitalizaciones:</strong> Admisiones, habitaciones, altas</li>
                                <li><strong>Tratamientos:</strong> Medicamentos, procedimientos, cirug√≠as</li>
                                <li><strong>Facturaci√≥n:</strong> Costos, seguros, pagos</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--primary);">Reglas de Negocio</h4>
                            <ul>
                                <li>Un paciente puede tener m√∫ltiples seguros m√©dicos</li>
                                <li>Un m√©dico puede tener m√∫ltiples especialidades</li>
                                <li>Las citas deben ser con m√©dicos disponibles</li>
                                <li>Una habitaci√≥n puede tener m√∫ltiples pacientes</li>
                                <li>Los tratamientos deben ser prescritos por m√©dicos</li>
                                <li>La facturaci√≥n se basa en tratamientos y estancia</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üèóÔ∏è Identificaci√≥n de Entidades</h3>
                    
                    <div class="er-symbols">
                        <div class="symbol-card">
                            <div class="symbol-visual">üë§</div>
                            <h4>PACIENTE</h4>
                            <p>Personas que reciben atenci√≥n m√©dica</p>
                        </div>
                        <div class="symbol-card">
                            <div class="symbol-visual">üë®‚Äç‚öïÔ∏è</div>
                            <h4>MEDICO</h4>
                            <p>Personal m√©dico del hospital</p>
                        </div>
                        <div class="symbol-card">
                            <div class="symbol-visual">üè•</div>
                            <h4>ESPECIALIDAD</h4>
                            <p>√Åreas de especializaci√≥n m√©dica</p>
                        </div>
                        <div class="symbol-card">
                            <div class="symbol-visual">üìÖ</div>
                            <h4>CITA</h4>
                            <p>Consultas programadas</p>
                        </div>
                        <div class="symbol-card">
                            <div class="symbol-visual">üõèÔ∏è</div>
                            <h4>HABITACION</h4>
                            <p>Espacios para internaci√≥n</p>
                        </div>
                        <div class="symbol-card">
                            <div class="symbol-visual">üíä</div>
                            <h4>MEDICAMENTO</h4>
                            <p>F√°rmacos disponibles</p>
                        </div>
                        <div class="symbol-card">
                            <div class="symbol-visual">üõ°Ô∏è</div>
                            <h4>SEGURO</h4>
                            <p>Compa√±√≠as aseguradoras</p>
                        </div>
                        <div class="symbol-card">
                            <div class="symbol-visual">üí∞</div>
                            <h4>FACTURA</h4>
                            <p>Cuentas de servicios</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîó Principales Relaciones</h3>
                    
                    <div class="normalization-steps">
                        <div class="norm-step">
                            <div class="norm-number">1</div>
                            <div>
                                <h4>PACIENTE tiene CITA con MEDICO</h4>
                                <p><strong>Cardinalidad:</strong> M:N (un paciente puede tener citas con m√∫ltiples m√©dicos, un m√©dico atiende m√∫ltiples pacientes)</p>
                                <p><strong>Atributos:</strong> fecha_cita, hora_cita, motivo_consulta, estado_cita</p>
                            </div>
                        </div>
                        
                        <div class="norm-step">
                            <div class="norm-number">2</div>
                            <div>
                                <h4>MEDICO se_especializa_en ESPECIALIDAD</h4>
                                <p><strong>Cardinalidad:</strong> M:N (un m√©dico puede tener m√∫ltiples especialidades, una especialidad la tienen m√∫ltiples m√©dicos)</p>
                                <p><strong>Atributos:</strong> fecha_certificacion, institucion_certificadora</p>
                            </div>
                        </div>
                        
                        <div class="norm-step">
                            <div class="norm-number">3</div>
                            <div>
                                <h4>PACIENTE se_hospeda_en HABITACION</h4>
                                <p><strong>Cardinalidad:</strong> M:N temporal (un paciente puede ocupar m√∫ltiples habitaciones en diferentes per√≠odos)</p>
                                <p><strong>Atributos:</strong> fecha_ingreso, fecha_egreso, diagnostico_ingreso</p>
                            </div>
                        </div>
                        
                        <div class="norm-step">
                            <div class="norm-number">4</div>
                            <div>
                                <h4>MEDICO prescribe MEDICAMENTO a PACIENTE</h4>
                                <p><strong>Cardinalidad:</strong> Ternaria (requiere los tres elementos para determinar la prescripci√≥n)</p>
                                <p><strong>Atributos:</strong> dosis, frecuencia, duracion_tratamiento, fecha_prescripcion</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìä Especificaci√≥n Detallada de Entidades</h3>
                    
                    <div class="code-example">
                        <pre>
ENTIDAD: PACIENTE
Atributos:
- cedula_paciente (PK)
- nombre  
- apellido
- fecha_nacimiento
- telefono (multivalor)
- direccion (compuesto: calle, ciudad, codigo_postal)
- tipo_sangre
- contacto_emergencia

ENTIDAD: MEDICO  
Atributos:
- codigo_medico (PK)
- cedula
- nombre
- apellido  
- telefono_consultorio
- email
- fecha_contratacion

ENTIDAD: ESPECIALIDAD
Atributos:
- codigo_especialidad (PK)
- nombre_especialidad
- descripcion

ENTIDAD: CITA (Relaci√≥n PACIENTE-MEDICO convertida en entidad)
Atributos:
- numero_cita (PK)
- cedula_paciente (FK)
- codigo_medico (FK)
- fecha_cita
- hora_cita
- motivo_consulta
- estado_cita (programada, realizada, cancelada)
- observaciones

ENTIDAD: HABITACION
Atributos:
- numero_habitacion (PK)
- piso
- tipo_habitacion (individual, compartida, UCI)
- precio_dia
- estado (disponible, ocupada, mantenimiento)

ENTIDAD: HOSPITALIZACION (Relaci√≥n PACIENTE-HABITACION)
Atributos:
- numero_hospitalizacion (PK)
- cedula_paciente (FK)
- numero_habitacion (FK)
- fecha_ingreso
- fecha_egreso
- diagnostico_ingreso
- diagnostico_egreso
- medico_responsable (FK)

ENTIDAD: MEDICAMENTO
Atributos:
- codigo_medicamento (PK)
- nombre_comercial
- nombre_generico
- laboratorio
- precio_unidad
- stock_disponible

ENTIDAD: PRESCRIPCION (Relaci√≥n ternaria MEDICO-PACIENTE-MEDICAMENTO)
Atributos:
- numero_prescripcion (PK)
- codigo_medico (FK)
- cedula_paciente (FK)
- codigo_medicamento (FK)
- fecha_prescripcion
- dosis
- frecuencia_horas
- duracion_dias
- instrucciones_especiales

ENTIDAD: SEGURO
Atributos:
- codigo_seguro (PK)
- nombre_aseguradora
- tipo_plan
- cobertura_porcentaje

ENTIDAD: PACIENTE_SEGURO (Relaci√≥n PACIENTE-SEGURO)
Atributos:
- cedula_paciente (FK)
- codigo_seguro (FK)
- numero_poliza (PK compuesta con las FK anteriores)
- fecha_vigencia_inicio
- fecha_vigencia_fin
- estado_poliza

ENTIDAD: FACTURA
Atributos:
- numero_factura (PK)
- cedula_paciente (FK)
- fecha_factura
- subtotal
- impuestos
- descuento_seguro
- total_pagar
- estado_pago (pendiente, pagada, vencida)
                        </pre>
                    </div>
                </div>

                <div class="card">
                    <h3>üîÑ Transformaci√≥n a Modelo Relacional</h3>
                    
                    <div class="code-example">
                        <pre>
-- Entidades fuertes se convierten directamente en tablas

CREATE TABLE PACIENTE (
    cedula_paciente     VARCHAR(15) PRIMARY KEY,
    nombre              VARCHAR(50) NOT NULL,
    apellido            VARCHAR(50) NOT NULL,
    fecha_nacimiento    DATE NOT NULL,
    calle               VARCHAR(100),
    ciudad              VARCHAR(50),
    codigo_postal       VARCHAR(10),
    tipo_sangre         CHAR(3),
    contacto_emergencia VARCHAR(100)
);

CREATE TABLE MEDICO (
    codigo_medico       INT PRIMARY KEY,
    cedula              VARCHAR(15) UNIQUE NOT NULL,
    nombre              VARCHAR(50) NOT NULL,
    apellido            VARCHAR(50) NOT NULL,
    telefono_consultorio VARCHAR(15),
    email               VARCHAR(100),
    fecha_contratacion  DATE NOT NULL
);

CREATE TABLE ESPECIALIDAD (
    codigo_especialidad INT PRIMARY KEY,
    nombre_especialidad VARCHAR(100) NOT NULL,
    descripcion         TEXT
);

CREATE TABLE HABITACION (
    numero_habitacion   VARCHAR(10) PRIMARY KEY,
    piso                INT NOT NULL,
    tipo_habitacion     VARCHAR(20) NOT NULL,
    precio_dia          DECIMAL(10,2) NOT NULL,
    estado              VARCHAR(20) DEFAULT 'disponible'
);

-- Relaciones M:N requieren tablas intermedias

CREATE TABLE MEDICO_ESPECIALIDAD (
    codigo_medico           INT,
    codigo_especialidad     INT,
    fecha_certificacion     DATE,
    institucion_certificadora VARCHAR(100),
    PRIMARY KEY (codigo_medico, codigo_especialidad),
    FOREIGN KEY (codigo_medico) REFERENCES MEDICO(codigo_medico),
    FOREIGN KEY (codigo_especialidad) REFERENCES ESPECIALIDAD(codigo_especialidad)
);

-- Atributos multivalor requieren tablas separadas

CREATE TABLE PACIENTE_TELEFONO (
    cedula_paciente     VARCHAR(15),
    telefono            VARCHAR(15),
    tipo_telefono       VARCHAR(20), -- casa, trabajo, celular
    PRIMARY KEY (cedula_paciente, telefono),
    FOREIGN KEY (cedula_paciente) REFERENCES PACIENTE(cedula_paciente)
);

-- Entidades con relaciones complejas

CREATE TABLE CITA (
    numero_cita         INT PRIMARY KEY AUTO_INCREMENT,
    cedula_paciente     VARCHAR(15) NOT NULL,
    codigo_medico       INT NOT NULL,
    fecha_cita          DATE NOT NULL,
    hora_cita           TIME NOT NULL,
    motivo_consulta     TEXT,
    estado_cita         VARCHAR(20) DEFAULT 'programada',
    observaciones       TEXT,
    FOREIGN KEY (cedula_paciente) REFERENCES PACIENTE(cedula_paciente),
    FOREIGN KEY (codigo_medico) REFERENCES MEDICO(codigo_medico),
    UNIQUE (codigo_medico, fecha_cita, hora_cita) -- Un m√©dico, una fecha, una hora
);

-- Relaci√≥n ternaria como tabla

CREATE TABLE PRESCRIPCION (
    numero_prescripcion     INT PRIMARY KEY AUTO_INCREMENT,
    codigo_medico          INT NOT NULL,
    cedula_paciente        VARCHAR(15) NOT NULL,
    codigo_medicamento     INT NOT NULL,
    fecha_prescripcion     DATE NOT NULL,
    dosis                  VARCHAR(50) NOT NULL,
    frecuencia_horas       INT NOT NULL,
    duracion_dias          INT NOT NULL,
    instrucciones_especiales TEXT,
    FOREIGN KEY (codigo_medico) REFERENCES MEDICO(codigo_medico),
    FOREIGN KEY (cedula_paciente) REFERENCES PACIENTE(cedula_paciente),
    FOREIGN KEY (codigo_medicamento) REFERENCES MEDICAMENTO(codigo_medicamento)
);
                        </pre>
                    </div>
                </div>

                <div class="card">
                    <h3>‚öñÔ∏è Restricciones de Integridad</h3>
                    
                    <div class="code-example">
                        <pre>
-- Restricciones de dominio
ALTER TABLE PACIENTE ADD CONSTRAINT chk_fecha_nacimiento 
    CHECK (fecha_nacimiento <= CURDATE());

ALTER TABLE CITA ADD CONSTRAINT chk_fecha_cita 
    CHECK (fecha_cita >= CURDATE());

ALTER TABLE HABITACION ADD CONSTRAINT chk_estado_habitacion 
    CHECK (estado IN ('disponible', 'ocupada', 'mantenimiento'));

ALTER TABLE CITA ADD CONSTRAINT chk_estado_cita 
    CHECK (estado_cita IN ('programada', 'realizada', 'cancelada'));

-- Restricciones de negocio
ALTER TABLE PRESCRIPCION ADD CONSTRAINT chk_dosis_positiva 
    CHECK (duracion_dias > 0 AND frecuencia_horas > 0);

ALTER TABLE HOSPITALIZACION ADD CONSTRAINT chk_fechas_hospitalizacion 
    CHECK (fecha_egreso IS NULL OR fecha_egreso >= fecha_ingreso);

-- √çndices para mejorar rendimiento
CREATE INDEX idx_cita_fecha ON CITA(fecha_cita);
CREATE INDEX idx_paciente_nombre ON PACIENTE(apellido, nombre);
CREATE INDEX idx_prescripcion_fecha ON PRESCRIPCION(fecha_prescripcion);

-- Triggers para reglas de negocio complejas
DELIMITER //
CREATE TRIGGER tr_validar_cita_medico 
BEFORE INSERT ON CITA
FOR EACH ROW
BEGIN
    DECLARE citas_existentes INT;
    SELECT COUNT(*) INTO citas_existentes 
    FROM CITA 
    WHERE codigo_medico = NEW.codigo_medico 
      AND fecha_cita = NEW.fecha_cita 
      AND hora_cita = NEW.hora_cita
      AND estado_cita != 'cancelada';
    
    IF citas_existentes > 0 THEN
        SIGNAL SQLSTATE '45000' 
        SET MESSAGE_TEXT = 'El m√©dico ya tiene una cita programada en ese horario';
    END IF;
END//
DELIMITER ;
                        </pre>
                    </div>
                </div>

                <div class="best-practices">
                    <h3>üìà Consultas T√≠picas del Sistema</h3>
                    <div class="practices-grid">
                        <div class="practice-item">
                            <strong>Agenda M√©dica</strong>
                            <p>Citas programadas por m√©dico y fecha</p>
                        </div>
                        <div class="practice-item">
                            <strong>Historial Paciente</strong>
                            <p>Todas las citas y tratamientos de un paciente</p>
                        </div>
                        <div class="practice-item">
                            <strong>Ocupaci√≥n Habitaciones</strong>
                            <p>Estado actual y proyecci√≥n de ocupaci√≥n</p>
                        </div>
                        <div class="practice-item">
                            <strong>Prescripciones Activas</strong>
                            <p>Medicamentos vigentes por paciente</p>
                        </div>
                        <div class="practice-item">
                            <strong>Facturaci√≥n Pendiente</strong>
                            <p>Servicios no facturados o no pagados</p>
                        </div>
                        <div class="practice-item">
                            <strong>Reportes Estad√≠sticos</strong>
                            <p>Indicadores de gesti√≥n y calidad</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üîç Consultas SQL de Ejemplo</h3>
                    
                    <div class="code-example">
                        <pre>
-- Agenda de un m√©dico para una fecha espec√≠fica
SELECT c.hora_cita, c.motivo_consulta,
       p.nombre, p.apellido, p.telefono
FROM CITA c
JOIN PACIENTE p ON c.cedula_paciente = p.cedula_paciente
WHERE c.codigo_medico = 101
  AND c.fecha_cita = '2024-08-15'
  AND c.estado_cita = 'programada'
ORDER BY c.hora_cita;

-- Historial m√©dico completo de un paciente
SELECT c.fecha_cita, m.nombre AS medico, m.apellido,
       e.nombre_especialidad, c.observaciones
FROM CITA c
JOIN MEDICO m ON c.codigo_medico = m.codigo_medico
JOIN MEDICO_ESPECIALIDAD me ON m.codigo_medico = me.codigo_medico
JOIN ESPECIALIDAD e ON me.codigo_especialidad = e.codigo_especialidad
WHERE c.cedula_paciente = '1234567890'
  AND c.estado_cita = 'realizada'
ORDER BY c.fecha_cita DESC;

-- Habitaciones disponibles por tipo
SELECT tipo_habitacion, COUNT(*) as disponibles
FROM HABITACION
WHERE estado = 'disponible'
GROUP BY tipo_habitacion;

-- Medicamentos m√°s prescritos en el √∫ltimo mes
SELECT med.nombre_comercial, COUNT(*) as veces_prescrito
FROM PRESCRIPCION p
JOIN MEDICAMENTO med ON p.codigo_medicamento = med.codigo_medicamento
WHERE p.fecha_prescripcion >= DATE_SUB(CURDATE(), INTERVAL 1 MONTH)
GROUP BY med.codigo_medicamento, med.nombre_comercial
ORDER BY veces_prescrito DESC
LIMIT 10;

-- Ingresos por servicios en un per√≠odo
SELECT DATE(c.fecha_cita) as fecha, COUNT(*) as citas,
       COUNT(*) * 50 as ingresos_estimados  -- Asumiendo $50 por cita
FROM CITA c
WHERE c.fecha_cita BETWEEN '2024-08-01' AND '2024-08-31'
  AND c.estado_cita = 'realizada'
GROUP BY DATE(c.fecha_cita)
ORDER BY fecha;
                        </pre>
                    </div>
                </div>

                <div class="card">
                    <h3>üöÄ Extensiones y Mejoras Futuras</h3>
                    
                    <div class="grid grid-2">
                        <div>
                            <h4 style="color: var(--primary);">Funcionalidades Adicionales</h4>
                            <ul>
                                <li><strong>Laboratorio:</strong> Ex√°menes y resultados</li>
                                <li><strong>Cirug√≠as:</strong> Programaci√≥n de quir√≥fanos</li>
                                <li><strong>Inventario:</strong> Control de suministros m√©dicos</li>
                                <li><strong>Personal:</strong> Enfermeros, t√©cnicos, administrativos</li>
                                <li><strong>Ambulancias:</strong> Servicios de emergencia</li>
                                <li><strong>Telemedicina:</strong> Consultas remotas</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: var(--primary);">Mejoras T√©cnicas</h4>
                            <ul>
                                <li><strong>Auditor√≠a:</strong> Log de cambios en datos sensibles</li>
                                <li><strong>Seguridad:</strong> Encriptaci√≥n de datos m√©dicos</li>
                                <li><strong>Integraci√≥n:</strong> Conexi√≥n con sistemas de seguros</li>
                                <li><strong>BI:</strong> Reportes y an√°lisis avanzado</li>
                                <li><strong>M√≥vil:</strong> Aplicaci√≥n para m√©dicos y pacientes</li>
                                <li><strong>IoT:</strong> Dispositivos m√©dicos conectados</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exercises Tab -->
            <div id="exercises" class="tab-content">
                <div class="section-title">
                    <div class="section-icon">‚úèÔ∏è</div>
                    <span>Ejercicios Pr√°cticos - Modelo E-R</span>
                </div>

                <div class="highlight">
                    <h3>üìù Ejercicios con C√°lculos y Resoluci√≥n Detallada</h3>
                    <p>Ejercicios pr√°cticos para preparaci√≥n de ex√°menes sobre dise√±o de bases de datos y modelos E-R.</p>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 1: Cardinalidades y Entidades</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> En una universidad, cada profesor puede impartir m√°ximo 4 asignaturas y cada asignatura debe ser impartida por exactamente 1 profesor. Si hay 50 profesores y 180 asignaturas, ¬øcu√°l es el n√∫mero m√≠nimo de profesores que deben impartir exactamente 4 asignaturas?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p>Sean x profesores con 4 asignaturas e y profesores con menos de 4</p>
                            <p>x + y = 50 (total profesores)</p>
                            <p>4x + z = 180 (total asignaturas, donde z < 4y)</p>
                            <p>Para minimizar x, maximizamos z = 3y</p>
                            <p>4x + 3(50-x) = 180</p>
                            <p>4x + 150 - 3x = 180</p>
                            <p>x = 30</p>
                            <p><strong>Respuesta:</strong> 30 profesores deben impartir exactamente 4 asignaturas</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 2: Normalizaci√≥n de Relaciones</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> Una relaci√≥n R(A,B,C,D,E) tiene dependencias funcionales: A‚ÜíBC, D‚ÜíE, C‚ÜíD. ¬øEn qu√© forma normal est√° y c√≥mo normalizarla hasta 3FN?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p>Clave candidata: A (porque A‚ÜíBC, C‚ÜíD, D‚ÜíE, entonces A‚ÜíBCDE)</p>
                            <p>An√°lisis: C‚ÜíD viola 2FN (C es parte de BC que depende de A)</p>
                            <p>D‚ÜíE viola 2FN (dependencia transitiva)</p>
                            <p><strong>Descomposici√≥n para 3FN:</strong></p>
                            <p>R1(A,B,C) - A‚ÜíBC</p>
                            <p>R2(C,D) - C‚ÜíD</p>
                            <p>R3(D,E) - D‚ÜíE</p>
                            <p><strong>Respuesta:</strong> Estaba en 1FN, se normaliza en 3 tablas</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 3: C√°lculo de Atributos</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> En una tabla EMPLEADO con 10,000 registros, el atributo SALARIO (DECIMAL(10,2)) ocupa 6 bytes. Si agregamos un atributo calculado SALARIO_ANUAL = SALARIO * 12, ¬øcu√°nto espacio adicional se necesita vs calcular din√°micamente?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p>Espacio para SALARIO_ANUAL almacenado:</p>
                            <p>10,000 registros √ó 6 bytes = 60,000 bytes = 58.6 KB</p>
                            <p>C√°lculo din√°mico: 0 bytes de almacenamiento</p>
                            <p>Pero costo computacional por consulta: 10,000 multiplicaciones</p>
                            <p>Trade-off: 58.6 KB vs tiempo de CPU</p>
                            <p><strong>Recomendaci√≥n:</strong> Calcular din√°micamente (poco espacio, c√°lculo simple)</p>
                            <p><strong>Respuesta:</strong> 58.6 KB adicionales si se almacena</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 4: Dise√±o de √çndices</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> Una tabla VENTAS(id, fecha, cliente_id, producto_id, cantidad, precio) tiene 1 mill√≥n de registros. Se consulta frecuentemente por fecha y cliente_id. ¬øCu√°ntos √≠ndices crear y cu√°l ser√≠a el costo de almacenamiento estimado?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p>√çndices recomendados:</p>
                            <p>1. √çndice compuesto: (fecha, cliente_id)</p>
                            <p>2. √çndice simple: (cliente_id) para consultas solo por cliente</p>
                            <p>Estimaci√≥n de tama√±o por √≠ndice:</p>
                            <p>√çndice DATE (4 bytes) + puntero (8 bytes) = 12 bytes/registro</p>
                            <p>√çndice INT (4 bytes) + puntero (8 bytes) = 12 bytes/registro</p>
                            <p>Costo total: 2 √ó 1M √ó 12 bytes = 24 MB</p>
                            <p><strong>Respuesta:</strong> 2 √≠ndices, ~24 MB adicionales</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 5: Relaciones Ternarias</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> En un hospital, la relaci√≥n CIRUGIA(M√©dico, Paciente, Quir√≥fano) tiene restricciones: cada m√©dico puede operar max 3 pacientes/d√≠a, cada quir√≥fano 8 cirug√≠as/d√≠a. Con 20 m√©dicos y 5 quir√≥fanos, ¬øcu√°l es el m√°ximo de cirug√≠as diarias?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p>L√≠mite por m√©dicos: 20 √ó 3 = 60 cirug√≠as/d√≠a</p>
                            <p>L√≠mite por quir√≥fanos: 5 √ó 8 = 40 cirug√≠as/d√≠a</p>
                            <p>El cuello de botella son los quir√≥fanos</p>
                            <p>M√°ximo te√≥rico = min(60, 40) = 40 cirug√≠as/d√≠a</p>
                            <p>Utilizaci√≥n m√©dicos: 40/60 = 66.7%</p>
                            <p>Utilizaci√≥n quir√≥fanos: 40/40 = 100%</p>
                            <p><strong>Respuesta:</strong> 40 cirug√≠as diarias m√°ximo</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 6: Especializaci√≥n/Generalizaci√≥n</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> Una entidad EMPLEADO se especializa en MEDICO y ENFERMERO (disjunta, total). EMPLEADO tiene 500 registros, 60% m√©dicos. Compare el espacio usando: a) Tabla √∫nica, b) Tabla por subclase, c) Tabla por clase</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p>Datos: 500 empleados, 300 m√©dicos, 200 enfermeros</p>
                            <p><strong>a) Tabla √∫nica:</strong></p>
                            <p>1 tabla con todos los atributos + tipo_empleado</p>
                            <p>Desperdicios: campos NULL en especializaciones</p>
                            <p><strong>b) Tabla por subclase:</strong></p>
                            <p>EMPLEADO (500 registros) + MEDICO (300) + ENFERMERO (200) = 1000 registros</p>
                            <p><strong>c) Tabla por clase:</strong></p>
                            <p>MEDICO (300) + ENFERMERO (200) = 500 registros</p>
                            <p><strong>Respuesta:</strong> Opci√≥n c) es m√°s eficiente (500 vs 1000 registros)</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 7: Atributos Derivados</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> En PEDIDO(fecha, total), EDAD se deriva de fecha_nacimiento en CLIENTE. Si recalcular EDAD toma 0.1ms por registro y hay 100,000 consultas/hora que usan EDAD, ¬øconviene almacenarla o calcularla?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p>Costo de c√°lculo din√°mico:</p>
                            <p>100,000 consultas/hora √ó 0.1ms = 10,000ms/hora = 10s/hora CPU</p>
                            <p>En 24h: 240s = 4 minutos CPU/d√≠a</p>
                            <p>Costo de almacenamiento: +4 bytes/cliente</p>
                            <p>Problema: la EDAD cambia diariamente</p>
                            <p>Necesitar√≠a recalcular almacenada vs siempre correcta calculada</p>
                            <p><strong>Recomendaci√≥n:</strong> Calcular din√°micamente</p>
                            <p><strong>Respuesta:</strong> C√°lculo din√°mico (4 min CPU vs inconsistencias)</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 8: Integridad Referencial</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> PEDIDO referencia CLIENTE con DELETE CASCADE. CLIENTE tiene 10,000 registros, promedio 5 pedidos/cliente. Si se elimina 1% de clientes, ¬øcu√°ntos registros se eliminan en cascada y cu√°l es el costo transaccional?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p>Clientes eliminados: 10,000 √ó 1% = 100 clientes</p>
                            <p>Pedidos en cascada: 100 √ó 5 = 500 pedidos</p>
                            <p>Total eliminaciones: 100 + 500 = 600 registros</p>
                            <p>Costo transaccional:</p>
                            <p>- 100 DELETE en CLIENTE</p>
                            <p>- 500 DELETE en PEDIDO (autom√°ticas)</p>
                            <p>- Actualizaci√≥n de √≠ndices en ambas tablas</p>
                            <p>- Log de transacciones para rollback</p>
                            <p><strong>Respuesta:</strong> 600 registros eliminados, alto costo transaccional</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 9: Desnormalizaci√≥n Estrat√©gica</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> Una consulta JOIN entre CLIENTE y PEDIDO se ejecuta 50,000 veces/hora. El JOIN toma 2ms. Almacenar nombre_cliente en PEDIDO evita el JOIN pero requiere 50 bytes extra por pedido. Con 1M pedidos, ¬øeval√∫a la desnormalizaci√≥n?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p><strong>Costo de JOIN:</strong></p>
                            <p>50,000 consultas/hora √ó 2ms = 100,000ms/hora = 100s/hora</p>
                            <p>En 24h: 2,400s = 40 minutos CPU/d√≠a</p>
                            <p><strong>Costo de desnormalizaci√≥n:</strong></p>
                            <p>Espacio: 1M pedidos √ó 50 bytes = 50MB</p>
                            <p>Mantenimiento: actualizar nombre en todos los pedidos del cliente</p>
                            <p>Inconsistencias potenciales si nombre cambia</p>
                            <p><strong>Recomendaci√≥n:</strong> Mantener normalizaci√≥n + optimizar JOIN</p>
                            <p><strong>Respuesta:</strong> NO desnormalizar (50MB + complejidad vs 40min CPU)</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìù Ejercicio 10: Optimizaci√≥n de Consultas E-R</h3>
                    <div class="exercise-box">
                        <p><strong>Enunciado:</strong> Consulta: "Clientes que han comprado productos de categor√≠a 'Electr√≥nicos' en los √∫ltimos 30 d√≠as". Requiere 4 JOINs: CLIENTE-PEDIDO-DETALLE_PEDIDO-PRODUCTO-CATEGORIA. ¬øC√≥mo optimizar si se ejecuta 1000 veces/d√≠a?</p>
                        <div class="solution">
                            <h4>Soluci√≥n:</h4>
                            <p><strong>Optimizaciones posibles:</strong></p>
                            <p>1. √çndices: CREATE INDEX idx_pedido_fecha ON PEDIDO(fecha)</p>
                            <p>2. √çndice compuesto: (categoria_id, fecha) en consultas frecuentes</p>
                            <p>3. Vista materializada para electr√≥nicos</p>
                            <p>4. Particionado por fecha en PEDIDO</p>
                            <p>5. Cach√© de aplicaci√≥n (TTL 1 hora)</p>
                            <p><strong>Estimaci√≥n mejora:</strong></p>
                            <p>Sin optimizaci√≥n: ~50ms por consulta</p>
                            <p>Con √≠ndices: ~5ms por consulta</p>
                            <p>Reducci√≥n: 90% del tiempo de ejecuci√≥n</p>
                            <p><strong>Respuesta:</strong> √çndices estrat√©gicos + cach√©, mejora 10x</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>¬© 2024 Preparatic - Tema 20: Modelo Entidad/Relaci√≥n | Gu√≠a de Estudio para Administraci√≥n P√∫blica</p>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            
            // Show selected tab and mark button as active
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function toggleTheme() {
            const html = document.documentElement;
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            if (html.getAttribute('data-theme') === 'dark') {
                html.setAttribute('data-theme', 'light');
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = 'Modo Claro';
                localStorage.setItem('theme', 'light');
            } else {
                html.setAttribute('data-theme', 'dark');
                themeIcon.textContent = 'üåô';
                themeText.textContent = 'Modo Oscuro';
                localStorage.setItem('theme', 'dark');
            }
        }

        // Load saved theme
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            const html = document.documentElement;
            const themeIcon = document.getElementById('theme-icon');
            const themeText = document.getElementById('theme-text');
            
            html.setAttribute('data-theme', savedTheme);
            
            if (savedTheme === 'light') {
                themeIcon.textContent = '‚òÄÔ∏è';
                themeText.textContent = 'Modo Claro';
            } else {
                themeIcon.textContent = 'üåô';
                themeText.textContent = 'Modo Oscuro';
            }
        });

        // Add smooth scrolling for internal links
        document.addEventListener('DOMContentLoaded', function() {
            const links = document.querySelectorAll('a[href^="#"]');
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });

        // Add keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.altKey && e.key >= '1' && e.key <= '6') {
                e.preventDefault();
                const tabNames = ['overview', 'fundamentals', 'components', 'design', 'transformation', 'case-study'];
                const tabIndex = parseInt(e.key) - 1;
                if (tabIndex < tabNames.length) {
                    const tabButton = document.querySelector(`[onclick="showTab('${tabNames[tabIndex]}')"]`);
                    if (tabButton) {
                        tabButton.click();
                    }
                }
            }
        });
    </script>
</body>
</html>