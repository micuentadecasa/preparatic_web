<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 5 - Bases de Datos Relacionales</title>
    <style>
        :root {
            /* Light theme colors */
            --bg-color: #f5f7fa;
            --text-color: #2c3e50;
            --header-bg: linear-gradient(135deg, #3498db, #2c3e50);
            --header-text: white;
            --tab-container-bg: #34495e;
            --tab-text: #ecf0f1;
            --tab-hover: rgba(52, 152, 219, 0.1);
            --tab-active: #3498db;
            --tab-border: #2980b9;
            --content-area-border: #3498db;
            --content-bg: #f8f9fa;
            --card-bg: #f8f9fa;
            --card-border: #3498db;
            --card-text: #2c3e50;
            --stat-card-bg: white;
            --stat-card-border: #e0e0e0;
            --stat-number: #3498db;
            --checkmark-color: rgb(88, 106, 95);
            --highlight-box-bg: #e8f4fc;
            --warning-box-bg: #fff3cd;
            --danger-box-bg: #f8d7da;
            --success-box-bg: #d4edda;
            --table-header-bg: #3498db;
            --table-header-text: white;
            --table-row-even: #f2f2f2;
        }

        .dark-mode {
            /* Dark theme colors */
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --header-bg: linear-gradient(135deg, #1c5a8a, #1a2530);
            --header-text: #f0f0f0;
            --tab-container-bg: #2c3e50;
            --tab-text: #ecf0f1;
            --tab-hover: rgba(52, 152, 219, 0.2);
            --tab-active: #2980b9;
            --tab-border: #1f618d;
            --content-area-border: #2980b9;
            --content-bg: #2c2c2c;
            --card-bg: #2d2d2d;
            --card-border: #2980b9;
            --card-text: #e0e0e0;
            --stat-card-bg: #333;
            --stat-card-border: #444;
            --stat-number: #3498db;
            --checkmark-color: #4caf50;
            --highlight-box-bg: #1e3a5f;
            --warning-box-bg: #5a4a1f;
            --danger-box-bg: #5a2a2a;
            --success-box-bg: #2a4a2a;
            --table-header-bg: #1f618d;
            --table-header-text: white;
            --table-row-even: #3a3a3a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 40px 0;
            background: var(--header-bg);
            color: var(--header-text);
            margin-bottom: 30px;
            border-radius: 12px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            color: white;
            font-size: 1.2em;
            transition: background 0.3s;
        }

        .dark-mode .theme-toggle {
            background: rgba(255, 255, 255, 0.1);
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .tab-container {
            background: var(--tab-container-bg);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .tabs {
            display: flex;
            background: var(--tab-container-bg);
            overflow-x: auto;
            border-radius: 10px 10px 0 0;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            white-space: nowrap;
            color: var(--tab-text);
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab:hover {
            background: var(--tab-hover);
        }

        .tab.active {
            background: var(--tab-active);
            border-bottom-color: var(--tab-border);
        }

        .content-area {
            background: var(--content-bg);
            border: 4px solid var(--content-area-border);
            border-top: none;
            border-radius: 0 0 10px 10px;
            min-height: 500px;
        }

        .tab-content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: var(--card-bg);
            border-left: 4px solid var(--card-border);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            color: var(--card-text);
        }

        .card:hover {
            transform: translateX(5px);
        }

        .card h3 {
            color: var(--card-text);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: var(--stat-card-bg);
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid var(--stat-card-border);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: var(--stat-number);
            display: block;
            margin-bottom: 5px;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--tab-active);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding-left: 30px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -25px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--tab-active);
        }

        .list-checkmark {
            list-style: none;
            margin-left: 0;
        }

        .list-checkmark li {
            position: relative;
            padding-left: 30px;
            margin-bottom: 10px;
        }

        .list-checkmark li::before {
            content: '✓';
            position: absolute;
            left: 0;
            top: 0;
            color: var(--checkmark-color);
            font-weight: bold;
            font-size: 1.2em;
        }

        .highlight-box {
            background: var(--highlight-box-bg);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .warning-box {
            background: var(--warning-box-bg);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .danger-box {
            background: var(--danger-box-bg);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .success-box {
            background: var(--success-box-bg);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th {
            background: var(--table-header-bg);
            color: var(--table-header-text);
            padding: 12px;
            text-align: left;
        }

        .comparison-table td {
            padding: 12px;
            border-bottom: 1px solid var(--stat-card-border);
        }

        .comparison-table tr:nth-child(even) {
            background: var(--table-row-even);
        }

        .exercise-container {
            background: var(--card-bg);
            border-left: 4px solid var(--card-border);
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .exercise-container h3 {
            color: var(--card-text);
            margin-bottom: 15px;
        }

        .exercise-question {
            margin-bottom: 15px;
            font-weight: bold;
        }

        .exercise-options {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .exercise-option {
            margin-bottom: 8px;
        }

        .exercise-input {
            padding: 8px;
            border: 1px solid var(--stat-card-border);
            border-radius: 4px;
            background: var(--content-bg);
            color: var(--text-color);
            width: 100%;
            max-width: 300px;
        }

        .exercise-btn {
            background: var(--tab-active);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-top: 10px;
        }

        .exercise-btn:hover {
            opacity: 0.9;
        }

        .exercise-feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            display: none;
        }

        .exercise-feedback.correct {
            background: var(--success-box-bg);
            display: block;
        }

        .exercise-feedback.incorrect {
            background: var(--danger-box-bg);
            display: block;
        }

        .normal-forms {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .form-card {
            background: var(--stat-card-bg);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid var(--stat-card-border);
            transition: all 0.3s ease;
        }

        .form-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .form-icon {
            font-size: 3em;
            margin-bottom: 15px;
            color: var(--tab-active);
        }

        .sql-example {
            background: var(--content-bg);
            border-left: 4px solid var(--tab-active);
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }

        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <button class="theme-toggle" onclick="toggleTheme()">🌙</button>
        
        <div class="header">
            <h1>Tema 5: Bases de Datos Relacionales</h1>
            <p>Características y elementos constitutivos. Antecedentes históricos. El lenguaje SQL. Estándares de conectividad: ODBC y JDBC.</p>
        </div>

        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" onclick="showTab('overview')">📋 Visión General</div>
                <div class="tab" onclick="showTab('content1')">📘 Modelo Relacional</div>
                <div class="tab" onclick="showTab('content2')">📘 Lenguaje SQL</div>
                <div class="tab" onclick="showTab('content3')">📘 Normalización</div>
                <div class="tab" onclick="showTab('resources')">📚 Recursos</div>
                <div class="tab" onclick="showTab('exercises')">✏️ Ejercicios</div>
            </div>
        </div>

        <div class="content-area">
            <!-- Overview Tab -->
            <div id="overview" class="tab-content active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">ACID</span>
                        <div>Propiedades de las transacciones</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">3</span>
                        <div>Formas normales principales</div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">SQL</span>
                        <div>Lenguaje de consulta estándar</div>
                    </div>
                </div>

                <div class="card">
                    <h3>🎯 Introducción a las Bases de Datos Relacionales</h3>
                    <p>Un sistema de gestión de bases de datos relacionales (RDBMS) organiza los datos en tablas relacionadas entre sí. Este modelo, propuesto por Edgar F. Codd en 1970, se basa en la teoría de conjuntos y la lógica de predicados, proporcionando una estructura sólida y matemáticamente fundada para el almacenamiento y recuperación de datos.</p>
                </div>

                <div class="card">
                    <h3>⚡ Conceptos Clave</h3>
                    <ul class="list-checkmark">
                        <li>Modelo relacional: Organización de datos en tablas con filas y columnas</li>
                        <li>SQL (Structured Query Language): Lenguaje estándar para manipular bases de datos relacionales</li>
                        <li>Normalización: Proceso para eliminar redundancias y mejorar la integridad de los datos</li>
                        <li>Transacciones ACID: Propiedades que garantizan la fiabilidad de las operaciones</li>
                        <li>Índices: Estructuras que mejoran el rendimiento de las consultas</li>
                    </ul>
                </div>
            </div>

            <!-- Content 1 Tab -->
            <div id="content1" class="tab-content">
                <div class="card">
                    <h3>📘 Fundamentos del Modelo Relacional</h3>
                    <p>El modelo relacional representa los datos como un conjunto de relaciones (tablas), donde cada relación es un subconjunto del producto cartesiano de conjuntos de dominios. Cada tabla tiene filas (tuplas) y columnas (atributos), con una clave primaria que identifica de forma única cada fila.</p>
                    
                    <div class="normal-forms">
                        <div class="form-card">
                            <div class="form-icon">🔑</div>
                            <h4>Clave Primaria</h4>
                            <p>Identifica de forma única cada registro en una tabla</p>
                        </div>
                        <div class="form-card">
                            <div class="form-icon">🔗</div>
                            <h4>Clave Foránea</h4>
                            <p>Establece relaciones entre tablas mediante referencias</p>
                        </div>
                        <div class="form-card">
                            <div class="form-icon">✅</div>
                            <h4>Integridad</h4>
                            <p>Restricciones que mantienen la consistencia de los datos</p>
                        </div>
                    </div>
                    
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4>Origen del Modelo</h4>
                            <p>Edgar F. Codd propuso el modelo relacional en 1970 en su artículo "A Relational Model of Data for Large Shared Data Banks", sentando las bases para los sistemas modernos de bases de datos.</p>
                        </div>
                        <div class="timeline-item">
                            <h4>Desarrollo Comercial</h4>
                            <p>En la década de 1980, empresas como Oracle, IBM y Microsoft desarrollaron los primeros RDBMS comerciales basados en el modelo relacional.</p>
                        </div>
                        <div class="timeline-item">
                            <h4>Estandarización</h4>
                            <p>El SQL se estandarizó por primera vez en 1986, proporcionando un lenguaje común para interactuar con diferentes sistemas de bases de datos relacionales.</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>📋 Elementos Constitutivos</h3>
                    <p>Los sistemas de bases de datos relacionales se componen de varios elementos fundamentales:</p>
                    
                    <div class="highlight-box">
                        <h4>💡 Componentes Principales</h4>
                        <ul class="list-checkmark">
                            <li><strong>Tablas (Relaciones):</strong> Estructura principal para almacenar datos organizados en filas y columnas</li>
                            <li><strong>Esquema:</strong> Definición de la estructura de la base de datos, incluyendo tablas, columnas y restricciones</li>
                            <li><strong>Vistas:</strong> Consultas almacenadas que presentan datos de una o más tablas de forma virtual</li>
                            <li><strong>Índices:</strong> Estructuras de datos que mejoran el rendimiento de las consultas</li>
                            <li><strong>Triggers:</strong> Procedimientos almacenados que se ejecutan automáticamente en respuesta a ciertos eventos</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Content 2 Tab -->
            <div id="content2" class="tab-content">
                <div class="card">
                    <h3>📘 Lenguaje SQL (Structured Query Language)</h3>
                    <p>SQL es el lenguaje estándar para gestionar y manipular bases de datos relacionales. Proporciona comandos para definir, manipular y controlar datos en una base de datos.</p>
                </div>

                <div class="card">
                    <h3>📊 Categorías de Comandos SQL</h3>
                    <p>SQL se divide en varias categorías de comandos según su función:</p>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Categoría</th>
                                <th>Descripción</th>
                                <th>Ejemplos</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>DDL</strong></td>
                                <td>Lenguaje de Definición de Datos - Define la estructura de la base de datos</td>
                                <td>CREATE, ALTER, DROP</td>
                            </tr>
                            <tr>
                                <td><strong>DML</strong></td>
                                <td>Lenguaje de Manipulación de Datos - Manipula los datos almacenados</td>
                                <td>SELECT, INSERT, UPDATE, DELETE</td>
                            </tr>
                            <tr>
                                <td><strong>DCL</strong></td>
                                <td>Lenguaje de Control de Datos - Controla los permisos y acceso</td>
                                <td>GRANT, REVOKE</td>
                            </tr>
                            <tr>
                                <td><strong>TCL</strong></td>
                                <td>Lenguaje de Control de Transacciones - Gestiona transacciones</td>
                                <td>COMMIT, ROLLBACK, SAVEPOINT</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="sql-example">
                        -- Ejemplo de consulta SELECT<br>
                        SELECT nombre, apellido<br>
                        FROM empleados<br>
                        WHERE departamento = 'Ventas'<br>
                        ORDER BY apellido;
                    </div>
                </div>
            </div>

            <!-- Content 3 Tab -->
            <div id="content3" class="tab-content">
                <div class="card">
                    <h3>📘 Normalización de Bases de Datos</h3>
                    <p>La normalización es el proceso de organizar los datos en una base de datos para minimizar la redundancia y mejorar la integridad. Se basa en una serie de formas normales que representan diferentes niveles de organización.</p>
                </div>

                <div class="card">
                    <h3>📋 Formas Normales Principales</h3>
                    <div class="warning-box">
                        <h4>⚠️ Consideraciones Importantes</h4>
                        <p>La normalización puede mejorar la integridad de los datos, pero también puede afectar el rendimiento de las consultas debido a la necesidad de realizar más uniones (JOINs). En algunos casos, se puede aplicar desnormalización controlada para optimizar el rendimiento.</p>
                    </div>
                    
                    <div class="success-box">
                        <h4>✅ Formas Normales</h4>
                        <ul class="list-checkmark">
                            <li><strong>Primera Forma Normal (1NF):</strong> Elimina grupos repetidos y asegura que cada columna contenga valores atómicos</li>
                            <li><strong>Segunda Forma Normal (2NF):</strong> Cumple con 1NF y todos los atributos no clave dependen completamente de la clave primaria</li>
                            <li><strong>Tercera Forma Normal (3NF):</strong> Cumple con 2NF y no existen dependencias transitivas entre atributos no clave</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Resources Tab -->
            <div id="resources" class="tab-content">
                <div class="card">
                    <h3>📚 Recursos Adicionales</h3>
                    <ul class="list-checkmark">
                        <li><strong>"A Relational Model of Data for Large Shared Data Banks" de E.F. Codd:</strong> Artículo original que introdujo el modelo relacional</li>
                        <li><strong>ISO/IEC 9075:</strong> Estándar SQL (SQL/Foundation, SQL/CLI, etc.)</li>
                        <li><strong>Libro "Database System Concepts" de Silberschatz, Korth y Sudarshan:</strong> Referencia académica completa</li>
                        <li><strong>Libro "SQL Antipatterns" de Bill Karwin:</strong> Guía para evitar errores comunes en SQL</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>🔗 Enlaces Útiles</h3>
                    <ul>
                        <li><a href="https://es.wikipedia.org/wiki/Base_de_datos_relacional" target="_blank">Wikipedia - Base de datos relacional</a></li>
                        <li><a href="https://es.wikipedia.org/wiki/SQL" target="_blank">Wikipedia - SQL</a></li>
                        <li><a href="https://www.iso.org/standard/63555.html" target="_blank">ISO SQL Standards</a></li>
                    </ul>
                </div>

                <div class="card">
                    <h3>❓ Preguntas Frecuentes</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <h4>¿Cuál es la diferencia entre SQL y MySQL?</h4>
                            <p>SQL es un lenguaje estándar para bases de datos relacionales, mientras que MySQL es un sistema de gestión de bases de datos específico que utiliza SQL como su lenguaje de consulta.</p>
                        </div>
                        <div class="timeline-item">
                            <h4>¿Por qué es importante la normalización?</h4>
                            <p>La normalización reduce la redundancia de datos, mejora la integridad y facilita el mantenimiento de la base de datos. Sin embargo, debe equilibrarse con las consideraciones de rendimiento.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Exercises Tab -->
            <div id="exercises" class="tab-content">
                <div class="card">
                    <h3>✏️ Ejercicios de Práctica</h3>
                    <p>Practica tus conocimientos sobre bases de datos relacionales con estos ejercicios interactivos. Pon a prueba tu comprensión de SQL, normalización y conceptos fundamentales.</p>
                </div>

                <div class="exercise-container">
                    <h3>Conceptos Fundamentales</h3>
                    <div class="exercise-question">
                        ¿Qué significa la "C" en las propiedades ACID de las transacciones?
                    </div>
                    <div class="exercise-options">
                        <div class="exercise-option">
                            <input type="radio" id="ex1opt1" name="exercise1" value="a">
                            <label for="ex1opt1">Consistency (Consistencia)</label>
                        </div>
                        <div class="exercise-option">
                            <input type="radio" id="ex1opt2" name="exercise1" value="b">
                            <label for="ex1opt2">Concurrency (Concurrencia)</label>
                        </div>
                        <div class="exercise-option">
                            <input type="radio" id="ex1opt3" name="exercise1" value="c">
                            <label for="ex1opt3">Commit (Confirmación)</label>
                        </div>
                        <div class="exercise-option">
                            <input type="radio" id="ex1opt4" name="exercise1" value="d">
                            <label for="ex1opt4">Cascade (Cascada)</label>
                        </div>
                    </div>
                    <button class="exercise-btn" onclick="checkAnswer('exercise1', 'a', 'ex1feedback')">Verificar Respuesta</button>
                    <div id="ex1feedback" class="exercise-feedback"></div>
                </div>

                <div class="exercise-container">
                    <h3>Normalización</h3>
                    <div class="exercise-question">
                        ¿Cuál es la principal característica de la Primera Forma Normal (1NF)?
                    </div>
                    <div>
                        <input type="text" class="exercise-input" id="exercise2_answer" placeholder="Ingrese su respuesta">
                    </div>
                    <button class="exercise-btn" onclick="checkTextAnswer('exercise2_answer', 'Eliminar grupos repetidos y asegurar valores atómicos', 'ex2feedback')">Verificar Respuesta</button>
                    <div id="ex2feedback" class="exercise-feedback"></div>
                </div>

                <div class="exercise-container">
                    <h3>SQL Básico</h3>
                    <div class="exercise-question">
                        ¿Qué comando SQL se utiliza para insertar nuevos registros en una tabla?
                    </div>
                    <div>
                        <input type="text" class="exercise-input" id="exercise3_answer" placeholder="Ingrese su respuesta">
                    </div>
                    <button class="exercise-btn" onclick="checkTextAnswer('exercise3_answer', 'INSERT', 'ex3feedback')">Verificar Respuesta</button>
                    <div id="ex3feedback" class="exercise-feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Ocultar todas las pestañas
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remover clase activa de todos los botones
            const tabButtons = document.querySelectorAll('.tab');
            tabButtons.forEach(button => button.classList.remove('active'));
            
            // Mostrar pestaña seleccionada
            document.getElementById(tabName).classList.add('active');
            
            // Activar botón correspondiente
            event.target.classList.add('active');
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const toggleButton = document.querySelector('.theme-toggle');
            if (document.body.classList.contains('dark-mode')) {
                toggleButton.textContent = '☀️';
            } else {
                toggleButton.textContent = '🌙';
            }
        }

        function checkAnswer(exerciseName, correctAnswer, feedbackId) {
            const selectedOption = document.querySelector(`input[name="${exerciseName}"]:checked`);
            const feedbackElement = document.getElementById(feedbackId);
            
            if (!selectedOption) {
                feedbackElement.textContent = 'Por favor, selecciona una opción.';
                feedbackElement.className = 'exercise-feedback incorrect';
                return;
            }
            
            if (selectedOption.value === correctAnswer) {
                feedbackElement.textContent = '¡Correcto! ✅';
                feedbackElement.className = 'exercise-feedback correct';
            } else {
                feedbackElement.textContent = 'Incorrecto. Inténtalo de nuevo. ❌';
                feedbackElement.className = 'exercise-feedback incorrect';
            }
        }

        function checkTextAnswer(inputId, correctAnswer, feedbackId) {
            const userAnswer = document.getElementById(inputId).value.trim();
            const feedbackElement = document.getElementById(feedbackId);
            
            if (userAnswer === '') {
                feedbackElement.textContent = 'Por favor, ingresa tu respuesta.';
                feedbackElement.className = 'exercise-feedback incorrect';
                return;
            }
            
            // For text answers, we'll be more flexible with matching
            const normalizedUserAnswer = userAnswer.toLowerCase().replace(/\s+/g, ' ').trim();
            const normalizedCorrectAnswer = correctAnswer.toLowerCase().replace(/\s+/g, ' ').trim();
            
            if (normalizedUserAnswer.includes(normalizedCorrectAnswer) || 
                normalizedCorrectAnswer.includes(normalizedUserAnswer)) {
                feedbackElement.textContent = '¡Correcto! ✅';
                feedbackElement.className = 'exercise-feedback correct';
            } else {
                feedbackElement.textContent = `Incorrecto. Una respuesta aceptable sería: ${correctAnswer} ❌`;
                feedbackElement.className = 'exercise-feedback incorrect';
            }
        }

        // Animación de entrada para las tarjetas
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.card');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
        });
    </script>
</body>
</html>