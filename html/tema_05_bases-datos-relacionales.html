<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 5 - Bases de Datos Relacionales</title>
    <style>
        :root {--bg-color: #1a1a1a; --text-color: #e0e0e0; --header-bg: linear-gradient(135deg, #1c5a8a, #1a2530); --header-text: #f0f0f0; --tab-container-bg: #2c3e50; --tab-text: #ecf0f1; --tab-hover: rgba(52, 152, 219, 0.2); --tab-active: #2980b9; --content-bg: #2c2c2c; --card-bg: #2d2d2d; --card-text: #e0e0e0; --stat-card-bg: #333; --stat-number: #3498db; --checkmark-color: #4caf50; --highlight-box-bg: #1e3a5f; --success-box-bg: #2a4a2a; --table-header-bg: #1f618d; --table-header-text: white; --table-row-even: #3a3a3a; --exam-highlight: #d4af37;}
        .light-mode {--bg-color: #f5f7fa; --text-color: #2c3e50; --content-bg: #f8f9fa; --card-bg: #f8f9fa; --card-text: #2c3e50; --stat-card-bg: white; --highlight-box-bg: #e8f4fc; --success-box-bg: #d4edda; --table-row-even: #f2f2f2;}
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-color); color: var(--text-color); line-height: 1.6; transition: all 0.3s; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; padding: 40px 0; background: var(--header-bg); color: var(--header-text); margin-bottom: 30px; border-radius: 12px; position: relative; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; } .header p { font-size: 1.2em; opacity: 0.9; }
        .theme-toggle { position: absolute; top: 20px; right: 20px; background: rgba(255, 255, 255, 0.1); border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; color: white; font-size: 1.2em; }
        .theme-toggle:hover { background: rgba(255, 255, 255, 0.3); }
        .tab-container { background: var(--tab-container-bg); border-radius: 10px; margin-bottom: 20px; overflow: hidden; }
        .tabs { display: flex; background: var(--tab-container-bg); overflow-x: auto; }
        .tab { padding: 15px 25px; cursor: pointer; white-space: nowrap; color: var(--tab-text); transition: all 0.3s ease; }
        .tab:hover { background: var(--tab-hover); } .tab.active { background: var(--tab-active); }
        .content-area { background: var(--content-bg); border: 4px solid var(--tab-active); border-top: none; border-radius: 0 0 10px 10px; min-height: 500px; }
        .tab-content { display: none; padding: 30px; } .tab-content.active { display: block; }
        .card { background: var(--card-bg); border-left: 4px solid var(--tab-active); padding: 20px; margin-bottom: 20px; border-radius: 8px; color: var(--card-text); }
        .card h3 { margin-bottom: 15px; font-size: 1.3em; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 30px 0; }
        .stat-card { background: var(--stat-card-bg); padding: 25px; border-radius: 10px; text-align: center; }
        .stat-number { font-size: 2em; font-weight: bold; color: var(--stat-number); display: block; margin-bottom: 5px; }
        .list-checkmark { list-style: none; }
        .list-checkmark li { position: relative; padding-left: 30px; margin-bottom: 10px; }
        .list-checkmark li::before { content: '‚úì'; position: absolute; left: 0; top: 0; color: var(--checkmark-color); font-weight: bold; }
        .highlight-box { background: var(--highlight-box-bg); padding: 20px; border-radius: 8px; margin: 20px 0; }
        .success-box { background: var(--success-box-bg); padding: 20px; border-radius: 8px; margin: 20px 0; }
        .comparison-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .comparison-table th { background: var(--table-header-bg); color: var(--table-header-text); padding: 12px; }
        .comparison-table td { padding: 12px; border-bottom: 1px solid #555; }
        .comparison-table tr:nth-child(even) { background: var(--table-row-even); }
        .exam-tip { background: var(--highlight-box-bg); border-left: 4px solid #f39c12; padding: 15px; margin: 15px 0; border-radius: 0 8px 8px 0; }
        .exam-tip h4 { color: #f39c12; margin-bottom: 8px; }
        .hot-tip { background: linear-gradient(45deg, #ff6b6b, #ee5a24); color: white; padding: 15px; border-radius: 8px; margin: 15px 0; font-weight: bold; }
        .codd-law { background: var(--highlight-box-bg); border: 2px solid var(--exam-highlight); padding: 15px; margin: 10px 0; border-radius: 8px; }
        .codd-law h5 { color: var(--exam-highlight); margin-bottom: 8px; }
        .exercise-container { background: var(--exercise-bg); border-left: 4px solid var(--exercise-border); padding: 20px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); color: var(--exercise-text); }
        .exercise-question { margin-bottom: 15px; font-weight: bold; font-size: 1.1em; }
        .exercise-options { margin-left: 20px; margin-bottom: 15px; }
        .exercise-option { margin-bottom: 8px; }
        .exercise-btn { background: var(--tab-active); color: white; border: none; padding: 10px 15px; border-radius: 4px; cursor: pointer; margin: 10px 5px 0 0; }
        .feedback { margin-top: 10px; padding: 10px; border-radius: 4px; display: none; }
        .feedback.correct { background: var(--feedback-correct); display: block; color: #e0e0e0; }
        .feedback.incorrect { background: var(--feedback-incorrect); display: block; color: #e0e0e0; }
        .formula-box { background: var(--highlight-box-bg); padding: 15px; margin: 10px 0; border-radius: 8px; text-align: center; }
        .formula { font-family: monospace; font-size: 1.1em; color: #3498db; font-weight: bold; }
    </style>
</head>
<body class="dark-mode">
    <div class="container">
        <button class="theme-toggle" onclick="toggleTheme()">‚òÄÔ∏è</button>
        
        <div class="header">
            <h1>Tema 5: Bases de Datos Relacionales</h1>
            <p>Caracter√≠sticas y elementos constitutivos. Antecedentes hist√≥ricos. El lenguaje SQL. Est√°ndares de conectividad: ODBC y JDBC.</p>
        </div>

        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" onclick="showTab('overview')">üìã Visi√≥n General</div>
                <div class="tab" onclick="showTab('codd')">üìò Leyes de Codd</div>
                <div class="tab" onclick="showTab('sql')">üìò SQL Est√°ndares</div>
                <div class="tab" onclick="showTab('connectivity')">üìò ODBC/JDBC</div>
                <div class="tab" onclick="showTab('exercises')">‚úèÔ∏è Ejercicios</div>
                <div class="tab" onclick="showTab('resources')">üìö Tips de Examen</div>
            </div>
        </div>

        <div class="content-area">
            <div id="overview" class="tab-content active">
                <div class="stats-grid">
                    <div class="stat-card"><span class="stat-number">1970</span><div>Dr. Codd publica modelo relacional</div></div>
                    <div class="stat-card"><span class="stat-number">12</span><div>Reglas de Codd</div></div>
                    <div class="stat-card"><span class="stat-number">SQL:2016</span><div>√öltimo est√°ndar SQL</div></div>
                </div>
                
                <div class="hot-tip">
                    üî• HOT TIP EXAMEN: Edgar F. Codd defini√≥ el modelo relacional en 1970 con el art√≠culo "A Relational Model of Data for Large Shared Data Banks". ¬°Fecha clave en ex√°menes!
                </div>

                <div class="card">
                    <h3>üéØ Caracter√≠sticas Fundamentales</h3>
                    <p>El modelo relacional se basa en teor√≠a matem√°tica de conjuntos. Los datos se organizan en relaciones (tablas) con tuplas (filas) y atributos (columnas).</p>
                    
                    <div class="exam-tip">
                        <h4>üí° PREGUNTA T√çPICA DE EXAMEN</h4>
                        <p><strong>P:</strong> ¬øEn qu√© a√±o Dr. Codd public√≥ el modelo relacional?</p>
                        <p><strong>R:</strong> 1970 - Art√≠culo fundamental "A Relational Model of Data for Large Shared Data Banks"</p>
                    </div>
                </div>

                <div class="card">
                    <h3>‚ö° Elementos Constitutivos (¬°MEMORIZAR!)</h3>
                    <ul class="list-checkmark">
                        <li><strong>Relaci√≥n:</strong> Tabla con esquema definido</li>
                        <li><strong>Tupla:</strong> Fila individual de datos</li>
                        <li><strong>Atributo:</strong> Columna con dominio espec√≠fico</li>
                        <li><strong>Dominio:</strong> Conjunto de valores permitidos</li>
                        <li><strong>Clave primaria:</strong> Identificador √∫nico</li>
                        <li><strong>Clave for√°nea:</strong> Referencia a otra tabla</li>
                    </ul>
                </div>
            </div>

            <div id="codd" class="tab-content">
                <div class="hot-tip">
                    üî• HOT TIP: Las 12 Reglas de Codd son EXTREMADAMENTE importantes en ex√°menes. Memoriza especialmente la Regla 0, 1, 2, y 12.
                </div>

                <div class="card">
                    <h3>üìò Las 12 Reglas de Codd (IMPRESCINDIBLE PARA EL EXAMEN)</h3>
                    
                    <div class="codd-law">
                        <h5>Regla 0: Fundacional</h5>
                        <p>El sistema debe ser relacional, base de datos y gestor de sistemas relacionales.</p>
                        <strong>EXAMEN:</strong> "¬øCu√°l es la regla fundamental de Codd?" = Regla 0
                    </div>

                    <div class="codd-law">
                        <h5>Regla 1: Informaci√≥n</h5>
                        <p>Toda informaci√≥n debe estar representada como valores en tablas.</p>
                        <strong>EXAMEN:</strong> No arrays, no punteros, solo valores escalares.
                    </div>

                    <div class="codd-law">
                        <h5>Regla 2: Acceso Garantizado</h5>
                        <p>Todo dato accesible mediante combinaci√≥n tabla+columna+clave primaria.</p>
                        <strong>EXAMEN:</strong> Base del direccionamiento relacional.
                    </div>

                    <div class="codd-law">
                        <h5>Regla 3: Tratamiento de Valores Nulos</h5>
                        <p>Soporte sistem√°tico de valores nulos (diferentes de cero, cadena vac√≠a).</p>
                        <strong>EXAMEN:</strong> NULL ‚â† 0 ‚â† "" (cadena vac√≠a)
                    </div>

                    <div class="codd-law">
                        <h5>Regla 4: Cat√°logo Relacional</h5>
                        <p>Descripci√≥n de BD accesible usando lenguaje relacional.</p>
                        <strong>EXAMEN:</strong> Metadatos como tablas normales (INFORMATION_SCHEMA).
                    </div>

                    <div class="codd-law">
                        <h5>Regla 12: No Subversi√≥n</h5>
                        <p>Imposible saltarse restricciones por interfaces de bajo nivel.</p>
                        <strong>EXAMEN:</strong> Integridad mantenida en todos los niveles.
                    </div>
                </div>

                <div class="exam-tip">
                    <h4>üí° PREGUNTA FRECUENTE</h4>
                    <p><strong>P:</strong> ¬øCu√°ntas reglas defini√≥ Codd y cu√°l es la m√°s importante?</p>
                    <p><strong>R:</strong> 12 reglas (numeradas 0-12). La Regla 0 es fundacional: el sistema debe ser relacional.</p>
                </div>
            </div>

            <div id="sql" class="tab-content">
                <div class="hot-tip">
                    üî• HOT TIP: SQL se estandariz√≥ en 1982 (SQL-82), luego SQL-89, SQL-92, SQL:1999, SQL:2003, SQL:2006, SQL:2008, SQL:2011, SQL:2016. ¬°Fechas importantes!
                </div>

                <div class="card">
                    <h3>üìä Evoluci√≥n de Est√°ndares SQL</h3>
                    <table class="comparison-table">
                        <thead><tr><th>A√±o</th><th>Est√°ndar</th><th>Caracter√≠sticas Clave EXAMEN</th></tr></thead>
                        <tbody>
                            <tr><td>1982</td><td>SQL-82</td><td>Primer est√°ndar ANSI</td></tr>
                            <tr><td>1989</td><td>SQL-89</td><td>Integridad referencial</td></tr>
                            <tr><td>1992</td><td>SQL-92</td><td>OUTER JOIN, operaciones de cadena</td></tr>
                            <tr><td>1999</td><td>SQL:1999</td><td>Expresiones regulares, arrays</td></tr>
                            <tr><td>2003</td><td>SQL:2003</td><td>Caracter√≠sticas XML</td></tr>
                            <tr><td>2016</td><td>SQL:2016</td><td>Soporte JSON</td></tr>
                        </tbody>
                    </table>

                    <div class="exam-tip">
                        <h4>üí° PREGUNTA DE EXAMEN T√çPICA</h4>
                        <p><strong>P:</strong> ¬øEn qu√© a√±o se introdujo el soporte para OUTER JOIN en SQL?</p>
                        <p><strong>R:</strong> 1992 con el est√°ndar SQL-92</p>
                    </div>
                </div>

                <div class="card">
                    <h3>üìò Niveles de Cumplimiento SQL-92 (MEMORIZAR)</h3>
                    <ul class="list-checkmark">
                        <li><strong>Entry Level:</strong> Funcionalidad b√°sica</li>
                        <li><strong>Intermediate Level:</strong> Funciones adicionales</li>
                        <li><strong>Full Level:</strong> Cumplimiento completo</li>
                    </ul>

                    <div class="exam-tip">
                        <h4>üí° TRUCO EXAMEN</h4>
                        <p>La mayor√≠a de SGBD implementan Entry Level + caracter√≠sticas selectas de niveles superiores. Ninguno implementa Full Level completamente.</p>
                    </div>
                </div>
            </div>

            <div id="connectivity" class="tab-content">
                <div class="hot-tip">
                    üî• HOT TIP: ODBC (1992) fue desarrollado por Microsoft. JDBC (1997) por Sun Microsystems para Java. ¬°A√±os y empresas importantes en ex√°menes!
                </div>

                <div class="card">
                    <h3>üìò ODBC vs JDBC (COMPARACI√ìN EXAMEN)</h3>
                    <table class="comparison-table">
                        <thead><tr><th>Caracter√≠stica</th><th>ODBC</th><th>JDBC</th></tr></thead>
                        <tbody>
                            <tr><td><strong>A√±o</strong></td><td>1992</td><td>1997</td></tr>
                            <tr><td><strong>Empresa</strong></td><td>Microsoft</td><td>Sun Microsystems</td></tr>
                            <tr><td><strong>Lenguaje</strong></td><td>C/C++</td><td>Java</td></tr>
                            <tr><td><strong>Plataforma</strong></td><td>Principalmente Windows</td><td>Multiplataforma</td></tr>
                            <tr><td><strong>API</strong></td><td>Basada en C</td><td>Orientada a objetos</td></tr>
                        </tbody>
                    </table>

                    <div class="exam-tip">
                        <h4>üí° PREGUNTA EXAMEN FRECUENTE</h4>
                        <p><strong>P:</strong> ¬øQu√© est√°ndar de conectividad est√° espec√≠ficamente dise√±ado para Java?</p>
                        <p><strong>R:</strong> JDBC (Java Database Connectivity), desarrollado por Sun Microsystems en 1997</p>
                    </div>
                </div>

                <div class="card">
                    <h3>üìã Arquitectura ODBC (IMPORTANTE EXAMEN)</h3>
                    <div class="success-box">
                        <h4>‚úÖ Componentes ODBC (Orden jer√°rquico)</h4>
                        <ul class="list-checkmark">
                            <li><strong>Aplicaci√≥n:</strong> Solicita datos</li>
                            <li><strong>Driver Manager:</strong> Carga drivers</li>
                            <li><strong>Driver ODBC:</strong> Procesa llamadas</li>
                            <li><strong>Fuente de datos:</strong> BD espec√≠fica</li>
                        </ul>
                        
                        <div class="exam-tip">
                            <h4>üí° TRUCO MEMORIZACI√ìN</h4>
                            <p>"Aplicaci√≥n-Driver Manager-Driver-Datos" = A-DM-D-D</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìã Tipos de Driver JDBC (CLASIFICACI√ìN EXAMEN)</h3>
                    <div class="highlight-box">
                        <h4>Los 4 Tipos de Driver JDBC:</h4>
                        <ul class="list-checkmark">
                            <li><strong>Tipo 1:</strong> JDBC-ODBC Bridge (obsoleto)</li>
                            <li><strong>Tipo 2:</strong> Native-API Driver</li>
                            <li><strong>Tipo 3:</strong> Network Protocol Driver</li>
                            <li><strong>Tipo 4:</strong> Thin Driver (Pure Java)</li>
                        </ul>
                        
                        <div class="exam-tip">
                            <h4>üí° PREGUNTA T√çPICA</h4>
                            <p><strong>P:</strong> ¬øQu√© tipo de driver JDBC es completamente Java?</p>
                            <p><strong>R:</strong> Tipo 4 (Thin Driver) - Pure Java, independiente de plataforma</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="exercises" class="tab-content">
                <div class="card">
                    <h3>üßÆ Ejercicios de Bases de Datos Relacionales</h3>
                    <p>C√°lculos espec√≠ficos sobre normalizaci√≥n, rendimiento, integridad referencial y optimizaci√≥n de consultas.</p>
                </div>

                <div style="background: #333; border-radius: 10px; height: 20px; margin: 20px 0; overflow: hidden;">
                    <div id="progress" style="background: linear-gradient(45deg, #4caf50, #45a049); height: 100%; width: 0%; transition: width 0.3s ease; border-radius: 10px;"></div>
                </div>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--text-color);">Progreso: <span id="progress-text">0/10</span></p>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 1: Normalizaci√≥n - Dependencias Funcionales</h4>
                        <p>En una tabla EMPLEADO(ID, Nombre, Departamento, Jefe_Depto, Salario_Jefe), hay 500 empleados en 25 departamentos. ¬øCu√°ntas redundancias genera la columna Salario_Jefe?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Redundancias = Empleados - Departamentos</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise1" value="a"> a) 475 redundancias</label>
                            <label><input type="radio" name="exercise1" value="b"> b) 500 redundancias</label>
                            <label><input type="radio" name="exercise1" value="c"> c) 25 redundancias</label>
                            <label><input type="radio" name="exercise1" value="d"> d) 450 redundancias</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(1, 'a', '500 empleados - 25 departamentos = 475 redundancias del salario del jefe por departamento.')">Verificar Respuesta</button>
                        <div id="feedback1" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 2: C√°lculo de Cardinalidad en JOIN</h4>
                        <p>Tabla A tiene 1000 filas, Tabla B tiene 500 filas. JOIN en clave for√°nea donde 80% de A tiene match en B. ¬øCardinalidad resultante?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Cardinalidad = Filas_A √ó Porcentaje_Match</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise2" value="a"> a) 800 filas</label>
                            <label><input type="radio" name="exercise2" value="b"> b) 1000 filas</label>
                            <label><input type="radio" name="exercise2" value="c"> c) 500 filas</label>
                            <label><input type="radio" name="exercise2" value="d"> d) 1500 filas</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(2, 'a', '1000 √ó 80% = 800 filas resultantes del INNER JOIN.')">Verificar Respuesta</button>
                        <div id="feedback2" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 3: Tama√±o de √çndice B-Tree</h4>
                        <p>Tabla con 1M registros, √≠ndice B-tree con factor de ramificaci√≥n 100. ¬øAltura m√°xima del √°rbol?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Altura = ‚åàlog‚ÇÅ‚ÇÄ‚ÇÄ(1,000,000)‚åâ</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise3" value="a"> a) 3 niveles</label>
                            <label><input type="radio" name="exercise3" value="b"> b) 4 niveles</label>
                            <label><input type="radio" name="exercise3" value="c"> c) 5 niveles</label>
                            <label><input type="radio" name="exercise3" value="d"> d) 6 niveles</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(3, 'a', 'log‚ÇÅ‚ÇÄ‚ÇÄ(1,000,000) = 3. Con factor 100, se necesitan m√°ximo 3 niveles para indexar 1M registros.')">Verificar Respuesta</button>
                        <div id="feedback3" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 4: Violaciones de Integridad Referencial</h4>
                        <p>Tabla PADRE: 1000 registros. Tabla HIJA: 5000 registros con FK. Se eliminan 50 registros PADRE que tienen 300 HIJOS referenci√°ndolos. ¬øViolaciones detectadas?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Violaciones = Registros_Hijos_Hu√©rfanos</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise4" value="a"> a) 300 violaciones</label>
                            <label><input type="radio" name="exercise4" value="b"> b) 50 violaciones</label>
                            <label><input type="radio" name="exercise4" value="c"> c) 350 violaciones</label>
                            <label><input type="radio" name="exercise4" value="d"> d) 250 violaciones</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(4, 'a', 'Al eliminar 50 padres, los 300 hijos quedan hu√©rfanos = 300 violaciones de integridad referencial.')">Verificar Respuesta</button>
                        <div id="feedback4" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 5: Selectividad de √çndice</h4>
                        <p>Columna G√âNERO en tabla de 10,000 empleados tiene 60% hombres, 40% mujeres. ¬øSelectividad del √≠ndice?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Selectividad = 1 / Valores_Distintos</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise5" value="a"> a) 50% selectividad</label>
                            <label><input type="radio" name="exercise5" value="b"> b) 40% selectividad</label>
                            <label><input type="radio" name="exercise5" value="c"> c) 60% selectividad</label>
                            <label><input type="radio" name="exercise5" value="d"> d) 100% selectividad</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(5, 'a', 'Con 2 valores distintos (H/M), selectividad = 1/2 = 50%. √çndice poco selectivo.')">Verificar Respuesta</button>
                        <div id="feedback5" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 6: Costo de Query Optimizer</h4>
                        <p>Query JOIN entre tablas A(1000 filas) y B(2000 filas). Costo TABLE SCAN: 5 unidades/fila. Costo INDEX SCAN: 2 unidades/fila. ¬øCosto total con √≠ndices?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Costo = (Filas_A + Filas_B) √ó Costo_Index</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise6" value="a"> a) 6000 unidades</label>
                            <label><input type="radio" name="exercise6" value="b"> b) 15000 unidades</label>
                            <label><input type="radio" name="exercise6" value="c"> c) 8000 unidades</label>
                            <label><input type="radio" name="exercise6" value="d"> d) 10000 unidades</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(6, 'a', '(1000 + 2000) √ó 2 = 6000 unidades. √çndices reducen costo vs table scan (15000).')">Verificar Respuesta</button>
                        <div id="feedback6" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 7: Grado de Normalizaci√≥n</h4>
                        <p>Tabla ORDEN(ID, Cliente, Producto1, Precio1, Producto2, Precio2) con 1000 √≥rdenes. 60% tienen 2 productos, 40% solo 1. ¬øDesperdicio de espacio en NULL?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Campos_NULL = √ìrdenes_1_Producto √ó 2 campos</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise7" value="a"> a) 800 campos NULL</label>
                            <label><input type="radio" name="exercise7" value="b"> b) 400 campos NULL</label>
                            <label><input type="radio" name="exercise7" value="c"> c) 600 campos NULL</label>
                            <label><input type="radio" name="exercise7" value="d"> d) 1200 campos NULL</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(7, 'a', '40% √≥rdenes (400) con 1 producto ‚Üí 400 √ó 2 campos = 800 campos NULL desperdiciados.')">Verificar Respuesta</button>
                        <div id="feedback7" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 8: Transacciones ACID - Nivel de Aislamiento</h4>
                        <p>Base de datos con 1000 transacciones/minuto. Nivel SERIALIZABLE bloquea promedio 3 filas/transacci√≥n por 50ms. ¬øFilas bloqueadas simult√°neamente?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Bloqueos = (Transacciones/min √ó Duraci√≥n_ms √ó Filas) / 60000</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise8" value="a"> a) 2.5 filas promedio</label>
                            <label><input type="radio" name="exercise8" value="b"> b) 50 filas promedio</label>
                            <label><input type="radio" name="exercise8" value="c"> c) 150 filas promedio</label>
                            <label><input type="radio" name="exercise8" value="d"> d) 3000 filas promedio</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(8, 'a', '(1000 √ó 50 √ó 3) / 60000 = 2.5 filas bloqueadas simult√°neamente en promedio.')">Verificar Respuesta</button>
                        <div id="feedback8" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 9: Buffer Pool Hit Ratio</h4>
                        <p>SGBD con buffer de 1000 p√°ginas. En 1 hora: 50,000 accesos a p√°gina, 5,000 page faults. ¬øHit ratio del buffer?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Hit Ratio = (Accesos - Page Faults) / Accesos √ó 100</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise9" value="a"> a) 90% hit ratio</label>
                            <label><input type="radio" name="exercise9" value="b"> b) 95% hit ratio</label>
                            <label><input type="radio" name="exercise9" value="c"> c) 85% hit ratio</label>
                            <label><input type="radio" name="exercise9" value="d"> d) 80% hit ratio</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(9, 'a', '(50,000 - 5,000) / 50,000 √ó 100 = 90% hit ratio. Buffer eficiente.')">Verificar Respuesta</button>
                        <div id="feedback9" class="feedback"></div>
                    </div>
                </div>

                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 10: Fragmentaci√≥n de √çndice</h4>
                        <p>√çndice clustered con 80% de p√°ginas llenas. 1000 p√°ginas totales, p√°gina puede contener 100 registros. ¬øRegistros desperdiciados por fragmentaci√≥n?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Desperdicio = P√°ginas √ó Capacidad √ó (1 - Fill_Factor)</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise10" value="a"> a) 20,000 registros desperdiciados</label>
                            <label><input type="radio" name="exercise10" value="b"> b) 80,000 registros desperdiciados</label>
                            <label><input type="radio" name="exercise10" value="c"> c) 10,000 registros desperdiciados</label>
                            <label><input type="radio" name="exercise10" value="d"> d) 5,000 registros desperdiciados</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(10, 'a', '1000 p√°ginas √ó 100 registros √ó (1 - 0.8) = 20,000 registros desperdiciados por fragmentaci√≥n.')">Verificar Respuesta</button>
                        <div id="feedback10" class="feedback"></div>
                    </div>
                </div>
                
                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 11: C√°lculo de Claves Candidatas</h4>
                        <p>Tabla EMPLEADO con atributos {ID, DNI, SSN, Nombre, Apellido}. DNI √∫nico en Espa√±a, SSN √∫nico en US. ¬øCu√°ntas claves candidatas posibles?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Claves Candidatas = Atributos_√önicos_Minimales</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise11" value="a"> a) 2 claves candidatas</label>
                            <label><input type="radio" name="exercise11" value="b"> b) 3 claves candidatas</label>
                            <label><input type="radio" name="exercise11" value="c"> c) 1 clave candidata</label>
                            <label><input type="radio" name="exercise11" value="d"> d) 4 claves candidatas</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(11, 'a', 'DNI y SSN son √∫nicos y minimales. ID podr√≠a ser otra si es √∫nico. Pero pregunta por existentes = 2 claves candidatas.')">Verificar Respuesta</button>
                        <div id="feedback11" class="feedback"></div>
                    </div>
                </div>
                
                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 12: Anomal√≠as de Actualizaci√≥n</h4>
                        <p>Tabla no normalizada PEDIDO(ID, Cliente, Producto, Precio, Direcci√≥n). Si un cliente cambia direcci√≥n, ¬øcu√°ntas filas hay que actualizar si tiene 15 pedidos?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Anomal√≠as = Filas_Afectadas_Por_No_Normalizaci√≥n</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise12" value="a"> a) 15 actualizaciones</label>
                            <label><input type="radio" name="exercise12" value="b"> b) 1 actualizaci√≥n</label>
                            <label><input type="radio" name="exercise12" value="c"> c) 30 actualizaciones</label>
                            <label><input type="radio" name="exercise12" value="d"> d) 0 actualizaciones</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(12, 'a', 'Sin normalizaci√≥n, direcci√≥n repetida en 15 filas. Cambio requiere 15 actualizaciones = anomal√≠a de actualizaci√≥n.')">Verificar Respuesta</button>
                        <div id="feedback12" class="feedback"></div>
                    </div>
                </div>
                
                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 13: Estimaci√≥n de Tama√±o de Tabla</h4>
                        <p>Tabla con 3 columnas INT(4 bytes), 2 VARCHAR(50), 1 DATE(3 bytes). 1 mill√≥n de registros. ¬øTama√±o aproximado sin √≠ndices?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Tama√±o = Registros √ó (Columnas_Fijas + Columnas_Variables_Promedio)</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise13" value="a"> a) 150 MB</label>
                            <label><input type="radio" name="exercise13" value="b"> b) 115 MB</label>
                            <label><input type="radio" name="exercise13" value="c"> c) 200 MB</label>
                            <label><input type="radio" name="exercise13" value="d"> d) 85 MB</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(13, 'b', '3√ó4 + 2√ó25 + 3 = 65 bytes/fila promedio. 1M √ó 65 = 65,000,000 bytes ‚âà 62 MB datos + overhead = ~115 MB.')">Verificar Respuesta</button>
                        <div id="feedback13" class="feedback"></div>
                    </div>
                </div>
                
                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 14: Lock Escalation Threshold</h4>
                        <p>SGBD con lock escalation a 5000 locks. Proceso requiere 6000 row locks en tabla de 10,000 filas. ¬øQu√© tipo de lock se utilizar√°?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Lock Escalation = (Locks_Necesarios > Threshold)</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise14" value="a"> a) Table lock</label>
                            <label><input type="radio" name="exercise14" value="b"> b) Row locks</label>
                            <label><input type="radio" name="exercise14" value="c"> c) Page locks</label>
                            <label><input type="radio" name="exercise14" value="d"> d) Database lock</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(14, 'a', '6000 locks > 5000 threshold ‚Üí lock escalation a table lock para mejorar rendimiento.')">Verificar Respuesta</button>
                        <div id="feedback14" class="feedback"></div>
                    </div>
                </div>
                
                <div class="exercise-container">
                    <div class="exercise">
                        <h4>Ejercicio 15: Costo de Transacci√≥n Distribuida</h4>
                        <p>Transacci√≥n distribuida en 3 nodos. Tiempo coordinador: 10ms, tiempo nodo promedio: 25ms, overhead red: 5ms/nodo. ¬øTiempo total estimado?</p>
                        
                        <div class="formula-box">
                            <div class="formula">Tiempo_Total = Tiempo_Coordinador + (Nodos √ó Tiempo_Nodo) + (Nodos √ó Overhead_Red)</div>
                        </div>
                        
                        <div class="exercise-options">
                            <label><input type="radio" name="exercise15" value="a"> a) 100ms</label>
                            <label><input type="radio" name="exercise15" value="b"> b) 85ms</label>
                            <label><input type="radio" name="exercise15" value="c"> c) 120ms</label>
                            <label><input type="radio" name="exercise15" value="d"> d) 95ms</label>
                        </div>
                        <button class="exercise-btn" onclick="checkAnswer(15, 'a', '10ms + (3 √ó 25ms) + (3 √ó 5ms) = 10 + 75 + 15 = 100ms tiempo total estimado.')">Verificar Respuesta</button>
                        <div id="feedback15" class="feedback"></div>
                    </div>
                </div>
            </div>

            <div id="resources" class="tab-content">
                <div class="hot-tip">
                    üî• CONSEJOS FINALES PARA EL EXAMEN: Memoriza fechas (1970 Codd, 1982 SQL), n√∫meros (12 reglas Codd), y diferencias t√©cnicas clave (ODBC vs JDBC).
                </div>

                <div class="card">
                    <h3>üéØ Repaso R√°pido Pre-Examen</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-number">1970</span>
                            <div>Codd modelo relacional</div>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number">1982</span>
                            <div>Primer SQL est√°ndar</div>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number">1992</span>
                            <div>ODBC Microsoft</div>
                        </div>
                        <div class="stat-card">
                            <span class="stat-number">1997</span>
                            <div>JDBC Sun Microsystems</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>‚ùì Banco de Preguntas de Examen</h3>
                    
                    <div class="exam-tip">
                        <h4>üí° PREGUNTA 1</h4>
                        <p><strong>P:</strong> ¬øCu√°l es la diferencia entre tupla y relaci√≥n en el modelo de Codd?</p>
                        <p><strong>R:</strong> Tupla = fila de datos; Relaci√≥n = tabla completa con esquema</p>
                    </div>

                    <div class="exam-tip">
                        <h4>üí° PREGUNTA 2</h4>
                        <p><strong>P:</strong> ¬øPor qu√© JDBC Tipo 4 es preferible al Tipo 1?</p>
                        <p><strong>R:</strong> Tipo 4 es Pure Java (independiente de plataforma), Tipo 1 requiere ODBC (obsoleto)</p>
                    </div>

                    <div class="exam-tip">
                        <h4>üí° PREGUNTA 3</h4>
                        <p><strong>P:</strong> Seg√∫n Codd, ¬øc√≥mo deben tratarse los valores nulos?</p>
                        <p><strong>R:</strong> Regla 3: Valores nulos distintos de cero y cadena vac√≠a, con soporte sistem√°tico</p>
                    </div>

                    <div class="exam-tip">
                        <h4>üí° PREGUNTA 4</h4>
                        <p><strong>P:</strong> ¬øQu√© introduce SQL:1999 que no ten√≠a SQL-92?</p>
                        <p><strong>R:</strong> Expresiones regulares, arrays, funciones definidas por usuario</p>
                    </div>
                </div>

                <div class="card">
                    <h3>üìö Errores Comunes en Examen</h3>
                    <ul class="list-checkmark">
                        <li><strong>Error:</strong> Confundir a√±o de Codd (1970) con primer SQL (1982)</li>
                        <li><strong>Error:</strong> JDBC es anterior a ODBC (¬°FALSO! ODBC 1992, JDBC 1997)</li>
                        <li><strong>Error:</strong> Codd defini√≥ 10 reglas (¬°SON 12! numeradas 0-11)</li>
                        <li><strong>Error:</strong> NULL = 0 en bases de datos (¬°FALSO! son diferentes)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(button => button.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            document.querySelector('.theme-toggle').textContent = 
                document.body.classList.contains('light-mode') ? 'üåô' : '‚òÄÔ∏è';
        }

        let correctAnswers = 0;
        let totalQuestions = 15;

        function checkAnswer(questionNum, correctAnswer, explanation) {
            const selectedAnswer = document.querySelector(`input[name=\"exercise${questionNum}\"]:checked`);
            const feedback = document.getElementById(`feedback${questionNum}`);
            
            if (!selectedAnswer) {
                feedback.textContent = 'Por favor selecciona una respuesta.';
                feedback.className = 'feedback incorrect';
                return;
            }
            
            const isCorrect = selectedAnswer.value === correctAnswer;
            
            if (isCorrect) {
                feedback.innerHTML = `‚úÖ ¬°Correcto! ${explanation}`;
                feedback.className = 'feedback correct';
                if (!selectedAnswer.dataset.counted) {
                    correctAnswers++;
                    selectedAnswer.dataset.counted = 'true';
                    updateProgress();
                }
            } else {
                feedback.innerHTML = `‚ùå Incorrecto. La respuesta correcta es \"${correctAnswer}\". ${explanation}`;
                feedback.className = 'feedback incorrect';
            }
        }

        function updateProgress() {
            const progressFill = document.getElementById('progress');
            const progressText = document.getElementById('progress-text');
            const percentage = (correctAnswers / totalQuestions) * 100;
            progressFill.style.width = percentage + '%';
            progressText.textContent = `${correctAnswers}/${totalQuestions}`;
        }
    </script>
</body>
</html>